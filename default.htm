<!DOCTYPE HTML><html><head><title>Numbers Game</title>
<meta name = "viewport" content = "user-scalable=no,width=device-width" />

<script language="Javascript">
var appname='numbersgame'
var appversion='2.1 (20160417)'
// localStorage.clear()
var restartconfirmationrequired=1
var adfrequency=1
var adsrequired=1
var numfreeturns=8



function documentwrite(someitem)
{
document.write(someitem)
}

function handleclickproblem() // code no longer used
{

}

function runcheck()  // code not used for this version
{
return true
}

var scalef
var screenwidth=window.innerWidth
var screenheight=window.innerHeight
var overallwidthscale=screenwidth/240
var overallheightscale=screenheight/360
if (overallwidthscale<overallheightscale) {scalef=Math.floor(10*overallwidthscale)/10} else {scalef=Math.floor(10*overallheightscale)/10}
if (scalef<1.0) {scalef=1.0}
var pushdown=0
if (scalef*370 < screenheight)
{
pushdown=Math.floor((screenheight-(scalef*370))/2)
}
pushdown=0
documentwrite('<style type="text/css">      \nbody {color: black; background-color: white; font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left}      \nh1 {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: bold; font-style: normal; text-align: left} \nh2 {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: italic; text-align: left} \np {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ndt {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ndd {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \nli {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ntable {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ntd {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; } \ntextarea {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; overflow:hidden;} \ninput {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; }  \n * {-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}\n</style> \n')

</script>

</head>
<body onLoad="runonload()" TOPMARGIN=0 LEFTMARGIN=0 MARGINHEIGHT=0 MARGINWIDTH=0 style="background-color:#DDDDFF; width:100%; height:100%">
<SCRIPT LANGUAGE="JavaScript">

// Local storage
// SetLocalVal and GetLocalVal - use cookies if available, if not local storage
// Reason: for testing, local storage doesn't seem to work.  On devices, local storage works but not always cookies.  Should cover everything.

var daystoExpire = 2000;
var expirydate = new Date(); 
expirydate.setTime(expirydate.getTime() + (daystoExpire*24*60*60*1000));


function GetCookie(name) 
{  
var thecookie=document.cookie
var namestring = name+'='  
var cookieval = null
var cookievalbeg=-1
var cookievalend=thecookie.length
for (var beg=0; beg<thecookie.length; beg++)
{
var end=beg+namestring.length
if (thecookie.substring(beg, end) == namestring)
{
cookievalbeg=end
}
}
if (cookievalbeg > -1)
{
cookievalend=thecookie.indexOf(';', cookievalbeg) // look for next ; after beginning of value
if (cookievalend == -1) (cookievalend = thecookie.length)
cookieval = unescape(thecookie.substring(cookievalbeg, cookievalend))
} 

return cookieval
}


function SetCookie(name, val) 
{  
var cookiestring = name+'='+escape(val)+'; expires='+ expirydate.toGMTString()
document.cookie=cookiestring
}

var usecookies=1
SetCookie('dummy', 'answer')
if (GetCookie('dummy')==null) {usecookies=0}

// For this app cookies not adequate, so must use local storage, so set usecookies to 0
usecookies=0
</script>
<script language="Javascript">
// checks whether local storage works.  Often doesn't with Internet Explorer
var localstorageworks=0
localStorage.setItem('testcheck', '43')
if (localStorage.getItem('testcheck')=='43') {localstorageworks=1}

</script>
<script language="Javascript">


</script>
<script language="Javascript">
var localstoragesubstitute=[]

function SetLocalStorageSubstitute(someitem, someval)
{
someval=someval+''
var someset=0
for (var i=0; i<localstoragesubstitute.length; i++)
{
if (localstoragesubstitute[i][0]==someitem)
{
localstoragesubstitute[i][1]=someval
someset=1
break
}
}
if (someset==0) {localstoragesubstitute=localstoragesubstitute.concat([[someitem, someval]])}
}

function GetLocalStorageSubstitute(someitem)
{
for (var i=0; i<localstoragesubstitute.length; i++)
{
if (localstoragesubstitute[i][0]==someitem)
{
return localstoragesubstitute[i][1]
}
}
return null
}
</script>
<script language="Javascript">

function SetLocalVal(somename, someval)
{
if (usecookies==1) 
{
SetCookie(somename, someval)
}
else
{
if (localstorageworks==1)
{
localStorage.setItem(somename, someval)
}
else
{
SetLocalStorageSubstitute(somename, someval)
}
}
}

function GetLocalVal(somename)
{
if (usecookies==1) 
{
return GetCookie(somename)
}
else
{
if (localstorageworks==1)
{
return localStorage.getItem(somename)
}
else
{
return GetLocalStorageSubstitute(somename)
}
}
}

// end Local Storage




function continueafterad()
{
showingads=0
continuegame()
}

function changetextvalue(someitem, someval)
{
document.getElementById(someitem).innerHTML = someval
}

function gettextvalue(someitem)
{
return document.getElementById(someitem).innerHTML
}

function changebgcolor(someitem, somecolor)
{
document.getElementById(someitem).style.backgroundColor=somecolor
}

function genintegers(somenum)
{
var someresult=[]
for (var i=1; i<=somenum; i++)
{
someresult[i-1]=i
}
return someresult
}

function member(someitem, somelist)
{
for (var i=0; i<somelist.length; i++)
{
if (someitem==somelist[i]) {return true}
}
return false
}

function randomnumber(num) {
// returns a random number from 1 to num
var ran=Math.round(Math.random()*num)
if (ran == 0) {ran = num}  // ran initially 0 to num - but 0 and num have half the probability of the other numbers
return ran
}

function shufflearray(somearray)
{

var temparray=somearray
var shuffled=new Array()
var packsize=somearray.length
var ran

for (var i=0; i<packsize; i++)
{
ran = randomnumber(temparray.length)
shuffled[i] = temparray[ran-1]
temparray = removeElement(ran-1, temparray)
}
return shuffled
}

function removeElement(index, somearray)
{
var beg=somearray.slice(0, index)
var end=[]
if (index+1 < somearray.length) {end = somearray.slice(index+1)}
return beg.concat(end)
}

function removeitem(someitem, somearray)
{
var somebeg=[]
var someend=[]
for (var i=0; i<somearray.length; i++)
{
if (somearray[i]==someitem) {return somearray.slice(0, i).concat(somearray.slice(i+1))}
}
return somearray
}

function copylist(somelist)
{
var somereturn=[]
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=somelist[i]
}
return somereturn
}



</script>
<script language="Javascript">




function graphicfor(somename)
{
if (somename=='blank') {return ''}

return '<div style="position:relative"><img width='+Math.floor(scalef*50)+' height='+Math.floor(scalef*20)+' src="greybluebutton.png" style="display:block"><div style="position:absolute;top:0px;left:0px;width:100%;height:100%;display:inline"><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle ><tr height='+Math.floor(scalef*20)+'><td align=center valign=middle style="text-align:center;font-weight:bold;color:white">'+somename+'</td></tr></table></div></div>'
}



function GetLocalList(somename)
{
var somestore=GetLocalVal(somename)
if (somestore==null) {return []}
return eval('['+somestore+']')
}

function GetLocalString(somename)
{
var somestore=GetLocalVal(somename)
if (somestore==null) {return ''}
return somestore
}


</script>
<script language="Javascript">






function messagedisplay(messagetext)
{
changetextvalue('statusmessage', messagetext)

}


</script>
<script language="Javascript">


function copyarray(somearray)
{
var temparray=[]
for (var i=0; i<somearray.length; i++)
{
temparray[i]=copysimplevalues(somearray[i])
}
return temparray
}

function copysimplevalues(somearray)
{
var temparray=[]
for (var i=0; i<somearray.length; i++)
{
temparray[i]=somearray[i]
}
return temparray
}





function backtogame()
{
changetextvalue('output', '<span style="font-size:1px>&nbsp;</span>')
document.getElementById('theboard').style.display='inline'

}

function newgame()
{
if (showingads==1 || showinghelp==1 || preventbuttonactions==1) {return}
if (numbersgamestatus>0 && numbersgamestatus<=4 && numbersarray.length>0)
{
mydecision('Please confirm that you wish to begin a new game', 'playnumbers()', 'backtogame()')
}
else
{
playnumbers()
}
}




function continuegame()
{
thetarget=''
thetargetsolution=''
definedtarget=''
lownumsselected=0
highnumsselected=0
numsselected=0
numberofcycles=0
numberresults=0
countdown=0
timeron=0
numbersarray=[]
showcurrentad()
numbersgamestatus=GetLocalVal('numbersgamestatus')*1
if (numbersgamestatus==0) {playnumbers(); return}
// alert(GetLocalVal('numbersgamestate'))
eval(GetLocalVal('numbersgamestate'))
preventbuttonactions=0
setcountdown(timeallowed)
// set up texts
document.getElementById('workpad').innerHTML=unescape(storetexts[0])
document.getElementById('solution').innerHTML=unescape(storetexts[1])
document.getElementById('target').innerHTML=unescape(storetexts[2])
document.getElementById('timerdisplay').innerHTML=unescape(storetexts[3])
document.getElementById('workpad').style.backgroundColor=workpadbgcolor
// set up the numbers selected
for (var i=0; i<numbersarray.length; i++)
{
changetextvalue('number'+(i+1), imagefor(numbersarray[i]))
}

if (numbersgamestatus==1) 
{
showkeypad(1)
}
if (numbersgamestatus==2) 
{
showkeypad(2)
}
if (numbersgamestatus>2)
{
showkeypad(0)
}
if (numbersgamestatus==3) 
{
targettype=2
therandom=0
findingsolution=0
numberresults=0
savethestate()
determinetarget(1)

}


if (numbersgamestatus==4)
{
timer = setTimeout("runtimer()",1000);
}

if (numbersgamestatus>=4 && numberofcycles<500 && targettype==1)
{
if (soltimer != null) {clearTimeout(soltimer)}
soltimer = setTimeout("determinetarget(2)",1);


}
savethestate()
}






function savethestate()
{

SetLocalVal('numbersgamestatus', numbersgamestatus)

SetLocalVal('numbersgamestate', convertallnumbersgamestate())
}

function convertlisttotext(somename, somelist)
{
var sometext='['
var somearray=convertitemstotext(somename, somelist)
sometext=sometext+somearray
sometext=sometext+']'
return sometext
}


function convertitemstotext(somename, somelist)
{
var somereturn=[]
if (somename=='number')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=somelist[i]
}
}

if (somename=='text')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]='"'+somelist[i]+'"'
}
}

if (somename=='listnumber')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('number', somelist[i])
}
}

if (somename=='listtext')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('text', somelist[i])
}
}

if (somename=='listlistnumber')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('listnumber', somelist[i])
}
}

if (somename=='listlisttext')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('listtext', somelist[i])
}
}

if (somename=='listlistlistpenultimatetext')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('listlistpenultimatetext', somelist[i])
}
}


if (somename=='listlistpenultimatetext')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('listpenultimatetext', somelist[i])
}
}

if (somename=='listpenultimatetext')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('penultimatetext', somelist[i])
}
}


if (somename=='penultimatetext')
{
var somenewlist=copysimplevalues(somelist)


if (somenewlist.length>0)
{
somenewlist[somenewlist.length-2]='"'+somenewlist[somenewlist.length-2]+'"'
}
somereturn=somenewlist
}

return somereturn
}

function getallrestoretexts()
{
var somereturn=[]

somereturn[0]=escape(document.getElementById('workpad').innerHTML)
somereturn[1]=escape(document.getElementById('solution').innerHTML)
somereturn[2]=escape(document.getElementById('target').innerHTML)
somereturn[3]=escape(document.getElementById('timerdisplay').innerHTML)

return somereturn
}

function emptytextornumber(someval)
{
if (someval==='') {return '""'} else {return someval}
}

// [[somerecorda, somerecordb, '+'], somerecorda[1]+somerecordb[1], somec]

function convertresulttotext(somearray)
{
if (somearray.length==0) {return '""'}
if (somearray[1]==1)
{
return '[[], 1, '+somearray[2]+']'
}
else
{
return '[['+convertresulttotext(somearray[0][0])+','+convertresulttotext(somearray[0][1])+',"'+somearray[0][2]+'"], '+somearray[1]+', '+somearray[2]+']'

}

}


function convertallnumbersgamestate()
{
var sometext=''

sometext=sometext+'cardset[0][2]='+convertlisttotext('number', cardset[0][2])+';'
sometext=sometext+'cardset[1][2]='+convertlisttotext('number', cardset[1][2])+';'
sometext=sometext+'lownumsselected='+lownumsselected+';'
sometext=sometext+'highnumsselected='+highnumsselected+';'
sometext=sometext+'numsselected='+numsselected+';'
sometext=sometext+'numbersarray='+convertlisttotext('number', numbersarray)+';'
sometext=sometext+'timeallowed='+timeallowed+';'
sometext=sometext+'countdown='+countdown+';'
sometext=sometext+'thetarget='+emptytextornumber(thetarget)+';'
sometext=sometext+'definedtarget="'+definedtarget+'";'
sometext=sometext+'targettype='+targettype+';'
sometext=sometext+'therandom='+therandom+';'
sometext=sometext+'findingsolution='+findingsolution+';'
sometext=sometext+'numberofcycles='+numberofcycles+';'
sometext=sometext+'numberresults='+numberresults+';'
sometext=sometext+'timeron='+timeron+';'
sometext=sometext+'workpadbgcolor="'+document.getElementById('workpad').style.backgroundColor+'";'
sometext=sometext+'var storetexts='+convertlisttotext('text', getallrestoretexts())+';'
sometext=sometext+'thetargetsolution='+convertresulttotext(thetargetsolution)+';'
return sometext
}

var numbersgamestatus=0 // 0 = unused; 1=defining numbers; 2=waiting to define target; 3=generating target; 4=counting down ; 5=countdown complete - solution not shown; 6 = solution shown
var gameon = 0

// Start main app code

// All code copyright of TopAccolades Limited
adfrequency=2


var cardset = new Array()
cardset = [
['Low Numbers', [['1', 1], ['2', 2], ['3', 2], ['4', 2], ['5', 2], ['6', 2], ['7', 2], ['8', 2], ['9', 2], ['10', 2]], []],
['High Numbers', [['25', 3], ['50', 2], ['75', 3], ['100', 1]], []]
]

var lownumsselected=0
var highnumsselected=0
var numsselected=0
var displaynumbercards=1
var numbersarray = new Array()

function createshuffledpacks() 
{
createshuffledpack(0)
createshuffledpack(1)

}




function createshuffledpack(int1) 
{

var makeup = cardset[int1][1]
var n = 0
var i

for (i=0; i<makeup.length; i++)
{
var letter = makeup[i][0]
var quantity=makeup[i][1]


var j
for (j=0; j<quantity; j++)
{
cardset[int1][2][n]=letter
n = n+1
} // end for2

} // end for1

cardset[int1][2] = shufflearray(shufflearray(cardset[int1][2]))

}


function randomnumber(num) {
// returns a random number from 1 to num
var ran=Math.round(Math.random()*num)
if (ran == 0) {ran = num}  // ran initially 0 to num - but 0 and num have half the probability of the other numbers
return ran
}

function shufflearray(somearray)
{

var temparray=somearray
var shuffled=new Array()
packsize=somearray.length
var ran
var i
for (i=0; i<packsize; i++)
{
ran = randomnumber(temparray.length)
shuffled[i] = temparray[ran-1]
temparray = removeElement(ran-1, temparray)
}
return shuffled
}

function removeElement(index, somearray)
{
var beg=somearray.slice(0, index)
var end=[]
if (index+1 < somearray.length) {end = somearray.slice(index+1)}
return beg.concat(end)
}

function initialize()
{

createshuffledpacks()

}


function playnumbers()
{
showcurrentad()

setcountdown(timeallowed)
stoptimer()
if (soltimer != null) {clearTimeout(soltimer)}
document.getElementById('workpad').style.backgroundColor = 'white'
changetextvalue('timerdisplay', '<span style="color:silver">Countdown</span>')
changetextvalue('workpad', 'Numbers: Specify with Small, Large, All or keypad')
changetextvalue('target', '<span style="color:silver">Target</span>')
changetextvalue('solution', '<center><span style="color:silver"><br><br>Solution</span></center>')
showkeypad(1)
createshuffledpacks()
thetarget=''
thetargetsolution=''
definedtarget=''
lownumsselected=0
highnumsselected=0
numsselected=0
numberofcycles=0
numberresults=0
countdown=0
timeron=0
numbersarray=[]
numbersgamestatus=1
var i
var cardname
for (i=1;i<=6; i++)
{
cardname='number'+i
changetextvalue(cardname, imagefor(' '))
}
displaynumbercards=1
backtogame()
savethestate()


}

function chooseallnums()
{
showcurrentad()
if (numsselected < 6)
{
var numrequired=6-numsselected
totalcards=shufflearray(cardset[0][2].slice(lownumsselected).concat(cardset[1][2].slice(highnumsselected)))
var selectedcards=totalcards.slice(0, numrequired)
var pos
var cardname
var imagename

for (var i=0; i<selectedcards.length; i++)
{
card=selectedcards[i]
pos=numsselected+1
cardname='number'+pos
imagename=card
changetextvalue(cardname, imagefor(imagename))
numbersarray[numsselected] = card
numsselected++
}
displaynumbers()
}
savethestate()
}

function chooselownum()
{
showcurrentad()


if (numsselected < 6)
{
var next = lownumsselected
var card = cardset[0][2][next]
var pos=numsselected+1
var cardname = 'number' + pos
var imagename = card
if (displaynumbercards == 0) {imagename = '?'}
changetextvalue(cardname, imagefor(imagename))
numbersarray[numsselected] = card
lownumsselected=lownumsselected+1
numsselected=numsselected+1

if (numsselected == 6) {displaynumbers()}
}
savethestate()

}

function choosehighnum()
{
showcurrentad()


if (numsselected < 6)
{
var next = highnumsselected
var card = cardset[1][2][next]
var pos=numsselected+1
var cardname = 'number' + pos
var imagename = card
// if (displaynumbercards == 0) {imagename = '?'}
changetextvalue(cardname, imagefor(imagename))
numbersarray[numsselected] = card
highnumsselected=highnumsselected+1
numsselected=numsselected+1

if (numsselected == 6) {displaynumbers()}
}
savethestate()
}


var definedtarget=''
function displaynumbers()
{
showkeypad(2)
changetextvalue('workpad', 'Target: Define with Random, Design or keypad')
numbersgamestatus=2

var i
for (i=0;i<6;i++)
{
pos = i+1
var cardname = 'number' + pos
var imagename = numbersarray[i]
changetextvalue(cardname, imagefor(imagename))
}

// if (timer != null) {clearTimeout(timer)}
// timer = setTimeout("displaynumbers2()",1);


}

function definetarget(somenum)
{
definedtarget=definedtarget+''+somenum
changetextvalue('target', definedtarget)
savethestate()

if (definedtarget.length==3)
{
thetarget=definedtarget*1
targettype=1
therandom=1
showkeypad(0)
starttimer()
findingsolution=1
changetextvalue('solution', 'Tap this box at any time for solution<br>')
savethestate()

findsolutionduringcountdown()
}
}


function determinerandomtarget()
{
if (numbersgamestatus!=2) {return}
targettype=1
therandom=1
showtargetnumber()
showkeypad(0)
starttimer()
findingsolution=1
savethestate()

findsolutionduringcountdown()
}

function determinedesigntarget()
{
if (numbersgamestatus!=2) {return}

numbersgamestatus=3
targettype=2
therandom=0
findingsolution=0
numberresults=0
savethestate()
showkeypad(0)
determinetarget(1)
}

var findingsolution=0
var therandom=0




function completegenerateddisplaynumbers()
{

var someshuffledresults=shufflearray(theresults)
var sometarget=-1
var sometargetsolution
for (var i=0; i<someshuffledresults.length; i++)
{
if (someshuffledresults[i][1]>0)
{
if (someshuffledresults[i][1]==1 && someshuffledresults[i][0][1]>=5)
{
sometargetsolution=someshuffledresults[i][0]
sometarget=someshuffledresults[i][0][2]
break
}
}

}
if (sometarget==-1)
{
for (var i=0; i<someshuffledresults.length; i++)
{
if (someshuffledresults[i][1]>0)
{
if (someshuffledresults[i][0][1]>=5)
{
sometargetsolution=someshuffledresults[i][0]
sometarget=someshuffledresults[i][0][2]
break
}
}

}

}
if (sometarget==-1) // error
{
changetextvalue('workpad', 'Error! Choose higher numbers')
changetextvalue('target', 'Error!')
thetargetsolution=''
savethestate()
return
}
changetextvalue('target', sometarget)
thetarget=sometarget
thetargetsolution=sometargetsolution
savethestate()
starttimer()


}

function showsolution()
{
showcurrentad()
if (numbersgamestatus>=4 && numbersgamestatus<=6)
{
var sometarget=thetarget
var somearray=thetargetsolution
thetext=''
arithmeticdisplay(somearray)
changetextvalue('solution', thetext)
if (numbersgamestatus==4) {changetextvalue('workpad', 'Game over')}

clearTimeout(timer)
numbersgamestatus=6
savethestate()
}
}



var thenumbers=[]
var theset=[]
var thenextset=[]
var theindex=6
var theresults=[]
var numberofcycles=0
var thetargetsolution=''
var numberresults=0
var targetspeed=0

function findsolutionduringcountdown()
{
targetspeed=0
numberofcycles=0
numberresults=0
thetargetsolution=''
determinetarget(2)
}


function theN()
{
if (targetspeed==1) {return [0,0,1,1,1,2,3]} else {return [0,0,1,1,1,1,1]}
}

function determinetarget(some12)
{

for (var i=0; i<6; i++)
{
thenumbers[i]=[[], 1, 1*numbersarray[i]] 
}
if (some12==1)
{
for (var i=0; i<900; i++)
{
theresults[i]=[[],0,'\n']
}
}

theset=[thenumbers] // theset is at any time an array of results for a particular level
thenextset=[]
theindex=6
if (soltimer != null) {clearTimeout(soltimer)}
soltimer = setTimeout("generatetarget("+some12+")",1);

}

var thetext=''

function recordresult(somec, somearray)
{
numberresults++
if (findingsolution==0)
{
if (somec>100 && somec<1000)
{
var somecurrent=theresults[somec-100]
if (somecurrent[1]==0)
{
theresults[somec-100]=[somearray, 1, '\n\r']
}
else
{
theresults[somec-100][1]++
if (theresults[somec-100][0][1]>somearray[1]) {theresults[somec-100][0]=somearray}
}
}
}

else // main
{

var somenew=''
if (thetargetsolution=='')
{
thetargetsolution=somearray

}
else
{
if (Math.abs(somec-thetarget) < Math.abs(thetargetsolution[2]-thetarget))
{
thetargetsolution=somearray
if (somec==thetarget) {somenew='='} else {if (Math.abs(somec-thetarget)<=5) {somenew='~'}}
}
else //try to get the simplest solution
{
if (Math.abs(somec-thetarget) == Math.abs(thetargetsolution[2]-thetarget) && somearray[1]<thetargetsolution[1])
{
thetargetsolution=somearray
if (somec==thetarget) {somenew='='} else {if (Math.abs(somec-thetarget)<=5) {somenew='~'}}
}
}
}

if (somenew!='') {changetextvalue('solution', gettextvalue('solution')+somenew); savethestate()}

} // end main if

} // end func

/*
How this works:
We start off with theset being defined as [thenumbers], where thenumbers is an array of 6 triplets of form [[], 1, N], where N is a selected number
We are throughout generating such triplets for intermediate and final results of the general form: [CalculationStructure, NumberOfSelectedNumbersInvolved, Result]
The initial [[], 1, N] is a special form meaning that N is a result involving one number with an empty CalculationStructure
The CalculationStructure builds up to contain a complete way of determining the given Result
*/

function generatetarget(some12)
{
if (soltimer != null) {clearTimeout(soltimer)}
// {
soltimer = setTimeout("completetimedgeneratetarget("+some12+",0)",1);
// }
}
// timed
function completetimedgeneratetarget(some12, i)
{


var somerecorda
var somerecordb
var somecheck
if (i<theset.length)
{


var somearray=shufflearray(theset[i])
var somenewarray
var somenewresult
var somec
for (var j=0; j<theN()[theindex]; j++)
{
for (var m=0; m<4; m++) // m represents an operator
{

somenewarray=[]
for (var k=0; k<theindex; k++)
{
if (k==2*j) 
{
if (somearray[k][2]>=somearray[k+1][2])
{
somerecorda=somearray[k]
somerecordb=somearray[k+1]
}
else
{
somerecorda=somearray[k+1]
somerecordb=somearray[k]
}
somea=somerecorda[2]  // somea is the larger of the two numbers being considered
someb=somerecordb[2]  // while someb is the other
if (m==0) // +
{
somec=somea+someb
somenewresult=[[somerecorda, somerecordb, '+'], somerecorda[1]+somerecordb[1], somec]  // [ResultStructure, NumberOfNumbersInvolved, Result]
somenewarray=somenewarray.concat([somenewresult])
somecheck=true
recordresult(somec, somenewresult)
}
if (m==1) // -
{
somec=somea-someb
somenewresult=[[somerecorda, somerecordb, '-'], somerecorda[1]+somerecordb[1], somec]
somenewarray=somenewarray.concat([somenewresult])
if (somea==someb) {somecheck=false} else {somecheck=true; recordresult(somec, somenewresult)}
}
if (m==2) // *
{
somec=somea*someb
somenewresult=[[somerecorda, somerecordb, 'x'], somerecorda[1]+somerecordb[1], somec]
somenewarray=somenewarray.concat([somenewresult])
if (somea==1 || someb==1) {somecheck=false} else {somecheck=true; recordresult(somec, somenewresult)}
}
if (m==3) // divide
{
somec=somea/someb
somenewresult=[[somerecorda, somerecordb, '/'], somerecorda[1]+somerecordb[1], somec]
somenewarray=somenewarray.concat([somenewresult])
if (someb==1 || somea==1 || somec!=Math.round(somec)) {somecheck=false} else {somecheck=true; recordresult(somec, somenewresult)}
}

}
else
{
if (k!=2*j+1)
{
somenewarray=somenewarray.concat([somearray[k]])

}
}
}  // k
if (somecheck==true)
{
thenextset=thenextset.concat([somenewarray]) // if we've got a result, we add the set of results into thenextset
}
} // m
}  // j
if (soltimer != null) {clearTimeout(soltimer)}
soltimer = setTimeout("completetimedgeneratetarget("+some12+","+(i+1)+")",1);

} // i
else
{


if (theindex>=3)
{
theindex--
theset=thenextset
thenextset=[]
if (soltimer != null) {clearTimeout(soltimer)}
soltimer = setTimeout("generatetarget("+some12+")",1);


}
else
{
if (some12==1) // finding initial target
{
completegenerateddisplaynumbers()
}
else // searching for solution
{

numberofcycles++
if (numbersgamestatus>4 && numberofcycles>=500)
{
changetextvalue('solution', gettextvalue('solution')+'!')
savethestate()
}
else
{
savethestate()
// changetextvalue('spy', numberofcycles)

if (soltimer != null) {clearTimeout(soltimer)}
soltimer = setTimeout("determinetarget(2)",1);

}



}
}
}

}

function arithmeticdisplay(somearray)
{
if (somearray[1]>1)
{
arithmeticdisplay(somearray[0][0]) // note this and the next have side effects on thetext - not how I would do this now!

arithmeticdisplay(somearray[0][1])
var somecolor1='black'
var somecolor2='black'
if (somearray[0][0][1]==1) {somecolor1='red'}
if (somearray[0][1][1]==1) {somecolor2='red'}

thetext=thetext+'<span style="color:'+somecolor1+'">'+somearray[0][0][2]+'</span>'+somearray[0][2]+'<span style="color:'+somecolor2+'">'+somearray[0][1][2]+'</span>='+somearray[2]+'<br>'
}
}






function showtargetnumber()
{
var target=randomnumber(899) + 100
changetextvalue('target', target)
thetarget=target
}

var thetarget
var soltimer=null
var timer = null
var timeron = 0
var countdown=0
var timeallowed=30


function stoptimer()
{
if (timer != null) {clearTimeout(timer)}
}

function starttimer()
{

changetextvalue('workpad', 'Solve: Use numbers and operators to make target')
changetextvalue('solution', 'Tap this box at any time for solution<br>')
if (therandom==0) {changetextvalue('solution', gettextvalue('solution')+'=!')}
numbersgamestatus=4
if (timer != null) {clearTimeout(timer)}
countdown=timeallowed
savethestate()
runtimer()
}

function runtimer()
{

changetextvalue('timerdisplay', countdown);
savethestate()

if (countdown>0)
{
countdown=countdown-1
timer = setTimeout("runtimer()",1000);
}
else
{
document.getElementById('workpad').style.backgroundColor = 'red'

changetextvalue('workpad', '<center><span style="font-size:'+Math.floor(scalef*12)+'px;color:white;font-weight:bold">STOP</span></center>')
numbersgamestatus=5
savethestate()

}
}


function setcountdown(sometime)
{
timeallowed=sometime
for (var i=15; i<=90; i=i+15)
{
document.getElementById('setcd'+i).style.backgroundColor = '#FFFFEE'
document.getElementById('setcd'+i).style.color = 'silver'

}
document.getElementById('setcd'+sometime).style.backgroundColor = 'limegreen'
document.getElementById('setcd'+sometime).style.color = 'black'
savethestate()

}




var targettype=0





function imagefor(someletter)
{
var somebg='#FFFACD'
// if (someletter===' ') {someletter='&nbsp;'; somebg='silver'}
if (someletter==='') {someletter='&nbsp;'}
return '<table cellpadding=0 cellspacing=0 style="width:100%;height:100%;border:1px solid black"><tr><td valign=middle align=center style="background-color:'+somebg+';text-align:center;font-size:'+Math.floor(scalef*16)+'px;font-weight:bold">'+someletter+'</td></tr></table>'
}

//  End -->
</script>



<script language="javascript">
initialize()
</script>


<script language="Javascript">

function writethegame()
{
documentwrite('<div id="maingame" style="display:inline">')
documentwrite('<center>')
documentwrite('<table width=100% height='+Math.floor(scalef*230)+' border=0 cellspacing=0 cellpadding=0 style = "background-color:none" align=center>')

documentwrite('<tr>')
documentwrite('<td   style="text-align:center; color:black; font-weight:bold"><table align=center border=1 cellspacing=1 cellpadding=0 style="background-color:#FFFFEE"><tr><td onClick="setcountdown(15)" id="setcd15" style="width:'+Math.floor(scalef*20)+'px;background-color:#FFFFEE;color:silver;text-align:center">15s</td><td onClick="setcountdown(30)" id="setcd30" style="width:'+Math.floor(scalef*20)+'px;background-color:#FFFFEE;color:silver;text-align:center">30s</td><td onClick="setcountdown(45)" id="setcd45" style="width:'+Math.floor(scalef*20)+'px;background-color:#FFFFEE;color:silver;text-align:center">45s</td><td id="timerdisplay" style="width:'+Math.floor(scalef*70)+'px;background-color:#FFFFEE;color:black;text-align:center"><span style="color:silver">Countdown</span></td><td onClick="setcountdown(60)" id="setcd60" style="width:'+Math.floor(scalef*20)+'px;background-color:#FFFFEE;color:silver;text-align:center">60s</td><td onClick="setcountdown(75)" id="setcd75" style="width:'+Math.floor(scalef*20)+'px;background-color:#FFFFEE;color:silver;text-align:center">75s</td><td onClick="setcountdown(90)" id="setcd90" style="width:'+Math.floor(scalef*20)+'px;background-color:#FFFFEE;color:silver;text-align:center">90s</td></tr></table><div style="height:'+Math.floor(scalef*2)+'px;"></div></td>')
documentwrite('</tr>')



documentwrite('<tr><td height='+Math.floor(scalef*32)+'><table align=center border=0 cellpadding=0 cellspacing=0><tr><td><img src="empty.png" width='+Math.floor(scalef*7)+'  height='+Math.floor(scalef*2)+' style="display:block"></td>')



for (var i=0; i<6; i++)
{
documentwrite('<td id="number'+(i+1)+'" width="'+Math.floor(scalef*30)+'" height="'+Math.floor(scalef*30)+'" align=center>'+imagefor(' ')+'</td><td><img src="empty.png" width='+Math.floor(scalef*7)+'  height='+Math.floor(scalef*2)+' style="display:block"></td>')
}
documentwrite('</tr></table></td></tr>')


documentwrite('<tr>')
documentwrite('<td  height='+Math.floor(scalef*22)+' style="text-align:center; color:black; font-weight:bold"><table width=100% border=0 cellspacing=0 cellpadding=0 style="align:center" align=center><tr><td><table border=0 cellpadding=0 cellspacing=0 style="align:left"><tr><td style="width:'+Math.floor(scalef*45)+'px;text-align:center" onClick="chooselownum()">'+graphicfor('Small')+'</td></tr></table></td><td><table border=0 cellpadding=0 cellspacing=0 style="align:center" align=center><tr><td style="width:'+Math.floor(scalef*45)+'px;text-align:center" onClick="chooseallnums()">'+graphicfor('All')+'</td></tr></table></td><td align=right><table border=0 cellpadding=0 cellspacing=0 style="align:right" align=right><tr><td style="width:'+Math.floor(scalef*45)+'px;text-align:center" onClick="choosehighnum()">'+graphicfor('Large')+'</td></tr></table></td></tr></table></td>')
documentwrite('</tr>')

documentwrite('<tr><td height='+Math.floor(scalef*32)+'><table align=center border=1 cellpadding=0 cellspacing=0><tr>')



for (var i=0; i<7; i++)
{
documentwrite('<td id="keypad'+(i)+'" width="'+Math.floor(scalef*30)+'" height="'+Math.floor(scalef*30)+'" align=center>'+imagefor(' ')+'</td>')
}
documentwrite('</tr><tr>')
for (var i=7; i<14; i++)
{
documentwrite('<td id="keypad'+(i)+'" width="'+Math.floor(scalef*30)+'" height="'+Math.floor(scalef*30)+'" align=center>'+imagefor(' ')+'</td>')
}
documentwrite('</tr><tr><td colspan=7 id="workpad" style="width:'+Math.floor(scalef*210)+'px;text-align:center; background-color:white;height:'+Math.floor(scalef*14)+'px;font-size:'+Math.floor(scalef*9)+'px"></td></tr></table><div style="height:'+Math.floor(scalef*2)+'px;"></div></td></tr>')


documentwrite('<tr>')
documentwrite('<td  style="text-align:center; color:black; font-weight:bold" valign=top><table width=100% border=0 cellspacing=0 cellpadding=0 style="align:center" valign=top><tr><td valign=top><table border=0 cellpadding=0 cellspacing=0 style="align:left" valign=top><tr><td style="width:'+Math.floor(scalef*45)+'px;text-align:center" onClick="determinerandomtarget()" valign=top>'+graphicfor('Random')+'</td></tr></table></td><td width=100%><table border=0 cellpadding=0 cellspacing=0 style="align:center" align=center><tr><td><img src="empty.png" width='+Math.floor(scalef*15)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td><table border=1   onClick="showsolution()" height=100% cellpadding=0 cellspacing=0 style="align:center" align=center ><tr><td style="width:'+Math.floor(scalef*100)+'px;height:'+Math.floor(scalef*18)+'px;background-color:#EEFFEE;text-align:center"><div id="target" style="text-align: center; color:red; font-weight:bold; font-size:'+Math.floor(scalef*14)+'px;"><span style="color:silver;font-size:'+Math.floor(scalef*10)+'px;">Target</span></div></td></tr><tr><td ><div id="solution" style="text-align:left; background-color:#FFFFEE;width:'+Math.floor(scalef*100)+'px;height:'+Math.floor(scalef*60)+'px;width:100%;font-size:'+Math.floor(scalef*9)+'px;"><center><span style="color:silver;font-size:'+Math.floor(scalef*10)+'px;"><br><br>Solution</span></center></div></td></tr></table></td><td><img src="empty.png" width='+Math.floor(scalef*15)+'  height='+Math.floor(scalef*2)+' style="display:block"></td></tr></table></td><td valign=top><table border=0 cellpadding=0 cellspacing=0 style="align:right"  align=right valign=top><tr><td style="width:'+Math.floor(scalef*45)+'px;text-align:right" onClick="determinedesigntarget()" valign=top>'+graphicfor('Design')+'</td></tr></table></td></tr></table></td>')
documentwrite('</tr>')

documentwrite('<tr>')
documentwrite('<td ></td>')
documentwrite('</tr>')

documentwrite('</table>')
documentwrite('<div style="width:100%" id="currentadtext"> </div>')
// documentwrite('<div style="width:100%" id="spy">Spy</div>')

documentwrite('</center>')
documentwrite('</div>')

documentwrite('<div id="more" style="display:none;width:100%">')

documentwrite('</div>')


}

function defineselect(card)
{
if (numsselected < 6)
{
var pos=numsselected+1
var cardname = 'number' + pos
var imagename = card
changetextvalue(cardname, imagefor(imagename))
numbersarray[numsselected] = card
numsselected=numsselected+1

if (numsselected == 6) {displaynumbers()}

}
showcurrentad()
savethestate()
}

function showkeypad(somevalue)
{

if (somevalue==0) // clear
{
var somekey
for (var i=0; i<14; i++)
{
somekey=''
changetextvalue('keypad'+i, '<div style="width:'+Math.floor(scalef*30)+'px;height:'+Math.floor(scalef*30)+'px">'+imagefor(somekey)+'</div>')
}
}

if (somevalue==1) // selecting numbers
{
var somekey
var somekeys=[1,2,3,4,5,6,7,8,9,10,25,50,75,100]
for (var i=0; i<14; i++)
{
somekey=somekeys[i]
changetextvalue('keypad'+i, '<div style="width:'+Math.floor(scalef*30)+'px;height:'+Math.floor(scalef*30)+'px" onClick="defineselect('+somekey+')">'+imagefor(somekey)+'</div>')
}
}

if (somevalue==2) // defining target
{
var somekey
var somekeys=['', 0,1,2,3,4,'', '', 5,6,7,8,9,'']
for (var i=0; i<14; i++)
{
somekey=somekeys[i]
var someclick=''
if (somekey!=='') {someclick=' onClick="definetarget('+somekey+')"'}
changetextvalue('keypad'+i, '<div style="width:'+Math.floor(scalef*30)+'px;height:'+Math.floor(scalef*30)+'px" '+someclick+'>'+imagefor(somekey)+'</div>')
}

}
}




// End main app code

</script>
<script language="Javascript">





var resetadbreakcounter=9
var adbreakcounter




var displayadnum=0

function openwebpage(someurl)
{
document.location.href=someurl
}

var displayadnum=0
var displayhelptexts=
[
'<table width=100% border=0 bgcolor=cyan  onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*9)+'px"><b>Help</b> gives help; <b>New</b> starts a new game<br><b>Small</b> selects 1-10; <b>Large</b> selects 25-100<br><b>Design</b> target doable, <b>Random</b> not always</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan  onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*9)+'px"><span style="font-weight:bold">TopAccolades</span><br>Apps and web services</td></tr></table>',
'<table width=100% border=0 bgcolor="lightblue" onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> i.compactfun.com</b><br>This app and other apps are also accessible online from many devices at i.compactfun.com</td></tr></table>'

]

var displayadtexts=displayhelptexts

var displayupgradetexts=
[
]

var displayapptexts=
[
'<table width=100% border=0 bgcolor=beige onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="pentadicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Pentad - Try the app now</b><br>Includes Word Pentad (make words from letters) and Poker Pentad (make poker hands), both on a 5x5 board!</td></tr></table>',
'<table width=100% border=0 bgcolor=limegreen onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="xword4x4icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Xword<sup>4x4</sup> - Try the app now</b><br>Great Play & Pass crossword puzzle for up to 4 players. Define your own board layouts!</td></tr></table>',
'<table width=100% border=0 bgcolor="#FF8888" onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="csisherlock144.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Who Killed Vic? -  Try the app now!</b><br>Vic has been killed.  Try to solve who killed Vic, with what, and where, in this great interactive logic puzzle.</td></tr></table>',
'<table width=100% border=0 bgcolor=limegreen onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="rummyicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Rummy 7 -  Try the app now!</b><br>Play 7-card Rummy against the system or another player.  Full animation.</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="kublitzcubeicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Kublitz Cube -  Download the app now!</b><br>Separated cubelets let you see/know all sides without turning the puzzle cube.  Guide, tools & notation to help you solve it</td></tr></table>',
'<table width=100% border=0 bgcolor=limegreen onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="pegsolitaireicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Peg Solitaire -  Download the app now!</b><br>Play the full puzzle or a cut-down version.  Guide and notation to help you solve and remember the full puzzle</td></tr></table>',
'<table width=100% border=0 bgcolor=lightsteelblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="numberskullicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Numberskull -  Try the app now!</b><br>Puzzle to solve 6 equations, results given across and down, using 9 numbers and operators. Can you do it?</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Try the app now!</b><br>31 classic/original games and puzzles in one app: words, numbers, logic, blocks, strategy...</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Try the app now!</b><br>Includes Rummy, 4-in-a-line, Pentad, Letters & Numbers Games, Turncoat and Yak</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Try the app now!</b><br>Includes Hangman, WordSearch, Pentad, Linkword Snap and Word Ladder</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Try the app now!</b><br>Includes Step Challenge, Pyramid Numbers, Sudoku and Numberskull </td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Try the app now!</b><br>Includes Sudoku, Memory Pairs, Master Code, Mystery Clues and Bidinca </td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Try the app now!</b><br>Includes Peg Solitaire, Towers of Hanoi, Poker Pentad, Mancala and Code 4x6 </td></tr></table>',
'<table width=100% border=0 bgcolor=cyan onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="bbflogo.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>BrainBoxFun -  Try the app now!</b><br>10 brain-training exercises inc.: memory, verbal comprehension, pattern recognition, word power and mental arithmetic</td></tr></table>'


]

var displaywmltexts=
[
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>Dedicate one of our many personal home pages to someone you love for a Birthday, Anniversary, Valentine\'s, Mother\'s Day or Father\'s Day.</td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>Our personal web site addresses come in two parts:<br><b><span style="color:#FF0000">Defined by you</span>.<span style="color:green">Supplied by us</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>The parts we supply include:<br><b><span style="color:green">in-the.land</span><br><span style="color:green">in-the-whole.world</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>With these ones you supply an OPINION or maybe a NAME plus an OPINION</td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>Full examples: <b><span style="color:#FF0000">best-wife</span>.<span style="color:green">in-the-whole.world</span><br><span style="color:#FF0000">sexiest-lover</span>.<span style="color:green">in-the-whole.world</span><br><span style="color:#FF0000">best-husband</span>.<span style="color:green">in-the.land</span>, <span style="color:#FF0000">greatest</span>.<span style="color:green">in-the.land</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>More examples: <b><span style="color:#FF0000">best-mom</span>.<span style="color:green">in-the-whole.world</span><br><span style="color:#FF0000">best-dad</span>.<span style="color:green">in-the-whole.world</span><br><span style="color:#FF0000">best-daughter</span>.<span style="color:green">in-the.land</span>, <span style="color:#FF0000">sexiest</span>.<span style="color:green">in-the.land</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>More examples: <b><span style="color:#FF0000">best-lover</span>.<span style="color:green">in-the-whole.world</span><br><span style="color:#FF0000">joe-best-husband</span>.<span style="color:green">in-the-whole.world</span><br><span style="color:#FF0000">raj-best-son</span>.<span style="color:green">in-the.land</span>, <span style="color:#FF0000">top-dad</span>.<span style="color:green">in-the.land</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>Other parts we supply are:<br><b><span style="color:green">best-in-the.world</span>, <span style="color:green">the-world-to.me</span><br><span style="color:green">supremely.sexy</span>, <span style="color:green">just-so.sexy</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br>Full examples: <b><span style="color:#FF0000">tim-wild</span>.<span style="color:green">best-in-the.world</span><br><span style="color:#FF0000">emma</span>.<span style="color:green">supremely.sexy</span>, <span style="color:#FF0000">george</span>.<span style="color:green">just-so.sexy</span><br><span style="color:#FF0000">lola</span>.<span style="color:green">the-world-to.me</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.with-my-love.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="wmllogo.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> With-my-love.com</b><br><span style="color:purple"><b>Imagine your loved one\'s thrill at seeing such a home page dedicated to them on the special day!</b></span></td></tr></table>'
]

var displayllatexts=
[
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://www.letterlookalikes.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="A_1_colour.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Letter Lookalikes</b><br>Photos resembling letters, numbers and symbols</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://www.letterlookalikes.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="E_1_colour.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px">Frames for names and wishes for birthdays, anniversaries, Valentine\'s Day, Mother\'s Day, etc.</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://www.letterlookalikes.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="H_5_colour.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px">Pictures that say 1000s of words<br><b>www.letterlookalikes.com</b></td></tr></table>'
]


if (adsrequired==1)
{
displayadtexts=
displayhelptexts.concat(displayupgradetexts).concat(displaywmltexts).concat(displayllatexts).concat(displayapptexts)
}
else
{
displayadtexts=displayhelptexts
}



function showcountdownad()
{
changetextvalue('countdownadtext', currentadtext())

}

function showcurrentad()
{
if (displayadtexts.length>0)
{
changetextvalue('currentadtext', currentadtext())
}
}

function increaseadnum()
{
displayadnum++
if (displayadnum>=displayadtexts.length) {displayadnum=0}
}

function currentadtext()
{
var sometext='<div style="width:100%;height:'+Math.floor(scalef*3)+'px"></div><table width=100% border=0 align=center bgcolor=silver><tr><td align=center>'+displayadtexts[displayadnum]+'</td></tr></table>'
increaseadnum()
return sometext
}




function mydecision(somemessage, someok, somecancel)
{

document.getElementById('theboard').style.display='none'
changetextvalue('output', '<br><table width=95% height='+Math.floor(scalef*100)+' border=1 cellpadding=0 cellspacing=0 align=center bgcolor=lemonchiffon><tr><td><table width=100% border=0 cellspacing=0><tr><td  bgcolor=lemonchiffon height='+Math.floor(scalef*50)+' align=center valign=middle colspan=2><br>'+centralimage()+'</td></tr><tr><td  colspan=2 bgcolor=lemonchiffon align=center height='+Math.floor(scalef*75)+' align=center valign=middle>'+somemessage+'</td></tr><tr height='+Math.floor(scalef*3)+'><td colspan=2></td></tr><tr bgcolor=white><td  onClick="'+somecancel+'" align=center bgcolor=white>'+graphicfor('Cancel')+'</td><td onClick="'+someok+'" align=center><br>'+graphicfor('OK')+'<br></td></tr></table></td></tr></table>')
// document.getElementById('output').style.display='inline'

}







function ith(someitem, somearray)
{
for (var i=0; i<somearray.length; i++)
{
if (someitem==somearray[i]) {return i}

}

}



function splitliston(someitem, somelist)
{
var someindex
for (var i=0; i<somelist.length; i++)
{
if (somelist[i]==someitem) 
{
someindex=i
break
}
}
var somebeg=somelist.slice(0, someindex)
var someend=somelist.slice(someindex+1)
return([somebeg, someend])
}


var preventbuttonactions=0


</script>

<script language="Javascript">




function runonload()
{
// first deal with remoteads

eval(GetLocalVal('remoteads'))

if (GetLocalVal('numbersgamestatus')==null || GetLocalVal('numbersgamestatus')*1==0) // first use
{
SetLocalVal('numbersgamestatus', 0)
numbersgamestatus=0

document.getElementById('theboard').style.display='none'

var someadvicetext=''
if (localstorageworks==0) {someadvicetext='<span style="color:red">Certain storage functionality is not available. The application will still work, but the state will not be saved when you exit, so next time you\'ll need to start again.<br></span>'}

var somemessage='<b>Welcome to Numbers Game from TopAccolades</b><br>It\'s all about trying to make a target number using some or all of 6 other numbers and the operators +, -, x or /. For one player as a pastime or any number of players playing against each other.<br><br><b>Key buttons</b><table width=95% border=0 align=center bgcolor="#8888FF"><tr><td valign=top style="font-weight:bold;text-align:left">New</td><td valign=top>Start a new game</td></tr><tr><td valign=top style="font-weight:bold;text-align:left">Help</td><td valign=top>Get general help during play</td></tr><tr><td valign=top style="font-weight:bold;text-align:left">Small</td><td valign=top>Select number (1-10)</td></tr><tr><td valign=top style="font-weight:bold;text-align:left">Large</td><td valign=top>Select one number (25, 50, 75 or 100)</td></tr><tr><td valign=top style="font-weight:bold;text-align:left">All</td><td valign=top>Select all remaining numbers</td></tr><tr><td valign=top style="font-weight:bold;text-align:left">Random</td><td valign=top>Generate random target</td></tr><tr><td valign=top style="font-weight:bold;text-align:left">Design</td><td valign=top>Generate target from selected numbers</td></tr></table><br>'+someadvicetext+'Tap <b>New</b> button above now to begin.'
changetextvalue('output',  '<br><table width=100% height='+Math.floor(scalef*100)+' border=1 cellpadding=0 cellspacing=0  align=center bgcolor=lemonchiffon><tr><td><table width=100% border=0><tr><td height='+Math.floor(scalef*50)+' align=center valign=middle><br>'+centralimage()+'</td></tr><table></td></tr><tr><td  height='+Math.floor(scalef*75)+' align=center valign=middle>'+somemessage+'</td></tr><tr height='+Math.floor(scalef*3)+'><td></td></tr></table>')

// document.getElementById('output').style.display='inline'
return
}
// above says always give welcome message to start a new game when first loaded
// otherwise continue game

numbersgamestatus=GetLocalVal('numbersgamestatus')*1

continuegame()
}


</script>

<script language="Javascript">


var showingads=0
var thecdimage='<table style="background-color:red" valign=middle align=center border=0 cellpadding=0 cellspacing=0><tr height='+Math.floor(scalef*10)+' valign=bottom><td valign=bottom><img width='+Math.floor(scalef*10)+'   name="cd1" src="selected.gif" valign=bottom style="display:block"></td><td align=center valign=bottom><img valign=bottom align=center width='+Math.floor(scalef*10)+'   name="cd0" src="selected.gif" style="display:block"></td><td valign=bottom><img width='+Math.floor(scalef*10)+'   name="cd7" src="selected.gif"  valign=bottom style="display:block"></td></tr><tr height='+Math.floor(scalef*10)+' valign=middle><td valign=middle><img width='+Math.floor(scalef*10)+'   name="cd2" src="selected.gif" valign=middle style="display:block"></td><td align=center><img  width='+Math.floor(scalef*36)+' src="rummyicon.png" border=0 style="display:block"></td><td valign=middle><img width='+Math.floor(scalef*10)+'   name="cd6" src="selected.gif" valign=middle style="display:block"></td></tr><tr height='+Math.floor(scalef*10)+' valign=middle><td><img width='+Math.floor(scalef*10)+'   name="cd3" src="selected.gif" valign=middle style="display:block"></td><td align=center valign=middle><img valign=middle align=center width='+Math.floor(scalef*10)+'   name="cd4" src="selected.gif" style="display:block"></td><td valign=middle><img width='+Math.floor(scalef*10)+'   name="cd5" src="selected.gif" valign=middle style="display:block"></td></tr></table>'







</script>

<script language="Javascript">
var suitimages=['red_front', 'blue_front', 'green_front', 'pink_front']
function titleimage(somename)
{
var sometext=''
var someindex=0
sometext=sometext+'<div style="position:relative;top:0px;left:0px"><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle bgcolor=black>'
for (var i=0; i<2; i++)
{
someindex=i
sometext=sometext+'<tr>'
for (var j=0; j<10; j++)
{
sometext=sometext+'<td><img src="'+suitimages[someindex]+'.png" style="display:block" width='+Math.floor(scalef*10)+' height='+Math.floor(scalef*10)+'></td>'
someindex++
if (someindex==4) {someindex=0}
}
sometext=sometext+'</tr>'

}
sometext=sometext+'</table><table border=0 width=100% height='+Math.floor(scalef*20)+' style="position:absolute;top:0px;left:0px"><tr><td style="text-align:center;font-size:'+Math.floor(scalef*12)+'px;color:white;font-weight:bold;" valign=middle>'+somename+'</td></tr></table></div>' 
return sometext
}

function centralimage()
{
var sometext=''
var someindex=0
sometext=sometext+'<table border=1 cellpadding=0 cellspacing=0><tr><td><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle bgcolor=black>'
sometext=sometext+'<tr><td><img src="icon.png" width='+Math.floor(scalef*30)+'  height='+Math.floor(scalef*30)+' style="display:block"></td></tr>'


sometext=sometext+'</table></td></tr></table>' 
return sometext
}

// static
documentwrite('<div style="width:100%;height:'+Math.floor(scalef*360)+'px;background-color:#DDDDFF"><table border=0 align=center valign=top cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'>')
documentwrite('<tr height='+Math.floor(scalef*3)+'><td width='+Math.floor(scalef*50)+'><img src="empty.png" width='+Math.floor(scalef*50)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td colspan=3></td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td width='+Math.floor(scalef*50)+'><img src="empty.png" width='+Math.floor(scalef*50)+'  height='+Math.floor(scalef*2)+' style="display:block"></td></tr>')
documentwrite('<tr height='+Math.floor(scalef*20)+'><td width='+Math.floor(scalef*50)+' onClick="newgame()">'+graphicfor('New')+'</td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'></td><td colspan=3 style="text-align:center;font-weight:bold;color:red;font-size:'+Math.floor(scalef*14)+'px">'+titleimage('Numbers Game')+'</td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'></td><td width='+Math.floor(scalef*50)+' onClick="showhelp()">'+graphicfor('Help')+'</td></tr>')
documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px"><div style="height:'+(pushdown+Math.floor(scalef*3))+'px;width='+Math.floor(scalef*230)+'px"></div></td></tr>')
documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px"><div style="display:inline;width:100%" id="theboard">')


writethegame()
showkeypad(0)

documentwrite('</div></td></tr>')
documentwrite('<tr ><td colspan=7 style="height:'+Math.floor(scalef*2)+'px;width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px"><div style="height:'+Math.floor(scalef*2)+'px;width='+Math.floor(scalef*230)+'px"></div></td></tr>')
documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px" ><div style="display:inline;width:100%" id="output">&nbsp;</div></td></td></tr>')
documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px" ><div style="display:none;width:100%" id="help">')

</script>

<script language="Javascript">



</script>
<script language="Javascript">


var showinghelp=0


function showhelp()
{
if (showinghelp==1) {hidehelp();return}
if (numbersgamestatus==0) {return}
if (showingads==1 || preventbuttonactions==1) {return}
showinghelp=1

document.getElementById('theboard').style.display='none'
document.getElementById('output').style.display='none'
document.getElementById('help').style.display='inline'
}

function hidehelp()
{
changetextvalue('output', '<span style="font-size:1px>&nbsp;</span>')

document.getElementById('theboard').style.display='inline'
document.getElementById('output').style.display='inline'
document.getElementById('help').style.display='none'
showinghelp=0

}


</script>
<div id="helpback" style="display:inline">
<script language="Javascript">documentwrite('<table align=center border=0><tr><td onClick="hidehelp()" width='+Math.floor(scalef*50)+'>'+graphicfor('Back')+'</td></tr></table>')</script>
</div>

<div id="helpgeneral" style="display:inline">
Numbers Game is a great game for those with a mathematical or numerical bent.  Each round is quick to play.  It can be played by any number of players - as many as can see the device display (mirroring the device display on a TV is a great way to play it).   Each player also requires a pen and paper.  It can, of course, also be played by one person as a pastime.
<br>
<br>The game is about taking 6 numbers, and trying to use some or all of these numbers to derive a given target number through the use of standard arithmetic operators: +, -, x and /.  So, for example, given the target number of 464, and available numbers: 2, 3, 7, 7, 8, and 9, the objective is to show that these can be used to evaluate to 464, e.g. 
<br>
<br>7x9=63 
<br>7x63=441 
<br>3x8=24  
<br>441+24=465 
<br>465-1=464
<br>
<br>or, to write it as a formula: (7x7x9)+((3x8)-1)=464 
<br>
<br>In this case, we've used all the available numbers, but we don't have to use them all each time. 
<br>
<br>There may be other ways of evaluating 464, but only one is required.  Only integer (whole number) results are permissible.
<br>
<br>The four operators that can be used are + (addition), - (subtraction), x (multiplication) and / (division), where 
<br>
<br>9+3=12
<br>9-3=6
<br>9x3=27
<br>9/3=3 
<br>
<br>
Only whole numbers are allowed in any calculation.  So, if the goal number is 130 and the available numbers include 5, 8, 8 and 9, it is not acceptable to use the calculation (9x9x8) / 5 = 129.6 as being close to 130. 

<br><br><span style="font-weight:bold">Playing the game (1 or more players)</span>
<br>
<br>The players first agree how long they should have to try to find a way of making the target number.  By default, 30 seconds is allowed, but the players can choose to change this by selecting (tapping) a different countdown time; the selected countdown time is shown with a green background.  They should also agree how many games (or rounds) they will play (or when they will stop playing), and should agree who should select the numbers (generally, players take turns to be the one to choose the six numbers in a series of games).

<br><br><span style="font-style:italic">Selecting the 6 numbers</span>

<br>
<br>
The player whose turn it is to select the numbers selects six numbers to be displayed.  This may be done one at a time, by tapping either the <span style="font-style:italic">Small</span> or the <span style="font-style:italic">Large</span> button to select each one.  Small numbers are the numbers 1 through to 10, while large numbers are the numbers 25, 50, 75 and 100. Alternatively, the <span style="font-style:italic">All</span> button may be tapped, which selects all the remaining numbers still to be defined at one go (generally a mixture of small and large numbers).
<br><br><span style="font-style:italic">Generating the target</span>
<br><br>
Once all six numbers have been selected, a target number needs to be generated.  You do this by tapping either the <span style="font-style:italic">Random</span> or the <span style="font-style:italic">Design</span> button.  In both cases, the resulting target displayed is in the range 101 through to 999.<br><br>With the <span style="font-style:italic">Random</span> button, the target will be completely random.  The target may or may not be achievable with the 6 numbers selected.<br><br>In contrast, with the <span style="font-style:italic">Design</span> button, the six numbers are used to produce many different potential targets, and one of these is randomly selected - thus guaranteeing that the target can be achieved with the numbers selected.  
<br><br><span style="font-style:italic">Finding a solution</span>

<br><br>As soon as the target is displayed, the countdown starts.  The players then have to try to find a way of making the target number, or to get as close to this number as possible, from the numbers provided, and write this solution down.  No number can be used twice, unless, of course, it appears twice.
<br>
<br>When the time is up, emphasized by STOP displayed on a red background, the players reveal to each other what number theyve managed to derive, and how they did it.  These can be checked for correctness.   
<br>
<br>The players who get closest to the target number each receive 5 points.  In addition, all players receive bonuses as follows: 
<ul>
<li>10 points if they derive the exact target number; 
<li>5 points if they dont get the exact target number but get a number that is 5 or less away from the target number. 
</ul>
So, if the target number is 729 and there are 5 players (A-E), who achieved the following: 
<br>
<br>A: 729; B: 733; C: failed to complete correctly; D: 729; E: 723 
<br>
<br>their scores for the game would be: 
<br>
<br>A: 5 (closest) + 10 (exact bonus) = 15; 
<br>B: 5 (bonus for being within 5 of target); 
<br>C: 0; 
<br>D: 5 (closest) + 10 (exact bonus) = 15; 
<br>E: 0 (not close enough) 
<br>
<br>Note: even if no player gets within 5 of the goal number, the closest player still gets the score of 5, but no bonuses are scored. 
<br>
<br>The scores are recorded (on paper), and it is then the next player's turn to select the numbers for the next round.  The winner of the overall game is, of course, the player with the highest total score. 
<br><br><span style="font-style:italic">System solution</span>
<br>
<br>
Unless the target was generated using the <span style="font-style:italic">Design</span> button, as soon as the countdown starts, the system begins a series of solution-generation cycles, in which possible solutions using the 6 numbers, or a subset of them, are produced, and the best solution generated is identified. When comparing two solutions, the best is the nearest to the target, or, if they are both as near, the best is the one that uses the fewer of the 6 numbers.
<br><br>When a better solution is found that is 1-5 from the target, a ~ symbol is displayed at the end of the text in the solution box.  If the actual target is found, a = symbol is displayed at the end of the text in the solution box, letting you know that a solution to the target has been found by the system.
<br><br>
After the countdown stops, or even before this, you may tap the solution box.  The best solution found so far is presented in the solution box (the selected numbers are shown in red).  Doing this during the countdown stops the countdown, as revealing a system solution means the game is over. The system continues the series of solution-generation cycles until it has completed a fixed number of cycles.  At that point, a ! symbol is displayed at the end of the text in the solution box, to let you know that no more solutions are being generated.  You can continue to tap the solution box to display the best solution found until the <span style="font-style:italic">New</span> button is tapped to start a new game.  

<br><br>
The solution-generation is not exhaustive, which means that it may not generate a solution that seems fairly obvious to you, or may miss a solution that uses fewer of the available numbers.

<br><br>If the <span style="font-style:italic">Design</span> button has been used to generate the solution, no further solution-generation takes place.  The symbols =! are displayed at the end of the text in the solution box to show that the target has been found and no more are being generated.
<br><br><span style="font-weight:bold">Solving a Numbers Game on TV</span>
<br><br>The app may also be used if you're watching Numbers Game on a TV programme and you wish to find a solution to the puzzle presented before the TV contestants or the expert.
<br><br>In this case, you may use the keypad in the middle (displaying numbers 1-10, 25, 50, 75 and 100) to select the 6 numbers seen on the TV, and then specify the target (three digits) shown on TV, again using the keypad (which now displays digits 0-9). The behaviour after this is as if a random target has been generated, as the system tries to find solutions close to or equal to the target.

<br><br><a name="distribution"></a><span style="font-weight:bold">Number distribution</span>
<br>
<br>When selecting small and large numbers, the system mimics the idea of having two sets of shuffled card packs, from which it takes the top one whenever a selection is made.  You can see how many of each number are available in the table below. 
<br><br>
<script language="Javascript">
function showDistribution()
{
var jointcardset=cardset[0][1].concat(cardset[1][1])
documentwrite('<table bgcolor=white border=1 align=center width=80%><tr><td colspan=8 style="font-weight:bold;text-align:center;background-color:yellow">Number Distribution</td></tr>')

for (var j=0;j<4;j++)
{
if (j<3)
{
documentwrite('<tr><td align=center style="font-weight:bold" width=10%>'+jointcardset[j*4][0]+'</td><td align=center width=10%>'+jointcardset[j*4][1]+'</td><td align=center style="font-weight:bold" width=10%>'+jointcardset[j*4+1][0]+'</td><td align=center width=10%>'+jointcardset[j*4+1][1]+'</td><td align=center style="font-weight:bold" width=10%>'+jointcardset[j*4+2][0]+'</td><td align=center width=10%>'+jointcardset[j*4+2][1]+'</td><td align=center style="font-weight:bold" width=10%>'+jointcardset[j*4+3][0]+'</td><td align=center width=10%>'+jointcardset[j*4+3][1]+'</td></tr>')
}
else
{
documentwrite('<tr><td align=center style="font-weight:bold" width=10%>'+jointcardset[j*4][0]+'</td><td align=center width=10%>'+jointcardset[j*4][1]+'</td><td align=center style="font-weight:bold" width=10%>'+jointcardset[j*4+1][0]+'</td><td align=center width=10%>'+jointcardset[j*4+1][1]+'</td><td align=center style="font-weight:bold" width=10%></td><td align=center width=10%></td><td align=center style="font-weight:bold" width=10%></td><td align=center width=10%></td></tr>')
}
}




documentwrite('</table>')

}

showDistribution()
</script>
<br><br>When using the <span style="font-style:italic">All</span> button, these two packs are combined and shuffled further.



<p><span style="font-weight: bold">About Numbers Game</sup></span>

<p>Numbers Game has been designed by Dr David Wolstenholme.
<p><span style="font-weight: bold">Terms of use</span><p>This software may be used for personal purposes only.  It may not be used for commercial purposes.</p> 
<p>The software, code and script of this application may not be copied or be distributed to others.</p> 
<p>The software, code and script may not be altered in any way.</p> 
<p >Copyright of the software, code and script, and its help documentation, is owned by TopAccolades Limited. No part of the software, code, script or documentation may be copied or used in another application or document.</p> 
<p >Although every effort has been made to ensure that this software functions as intended, TopAccolades Limited provides no warranty of merchantability, or fitness for a particular purpose, in relation to this application or its support.</p> 
<p >TopAccolades Limited shall not be liable for any damages whatsoever arising out of the use of or inability to use this application or the provision of or failure to provide support.</p> 
<p style="font-style: italic;">Copyright TopAccolades Limited<br>www.topaccolades.com</p>
<p><br>Version <script language="Javascript">documentwrite(appversion)</script><br>
Scale <script language="Javascript">documentwrite(scalef)</script>






</div>

<script language="Javascript">

documentwrite('</div></td></tr></table></div>')

var remoteads=[]

if (GetLocalVal('remoteads')==null)
{
// default remoteads
SetLocalVal('remoteads', 'remoteads=[]')
}

if (GetLocalVal('lastremoteadstime')==null) {SetLocalVal('lastremoteadstime', 0)}

// if (Date.now()-(1*GetLocalVal('lastremoteadstime'))>0)
// If it's more than 5 days since last remote ad update, then we download it.
// However, if there's no internet access, then this loading can hang the app up.  So, we set the last time of download to be 4 days ago
// then try to reload.  If it fails and hangs up, we're showing a Reload button, which will reload the page, this time without needing to upload the remote ad (now < 4 days ago)
// However, if we have no local storage, this won't work, as it would just end up at the reload button again.  In this case, we essentially do nothing, inc. no remote ad upload (safer), and go to auto runonload

</script>
<script language="Javascript">
if (Date.now()-(1*GetLocalVal('lastremoteadstime'))>(5*24*60*60*1000)) // if more than 5 days
{
if (localstorageworks==1)
{
document.getElementById('theboard').style.display='none'
changetextvalue('output',  '<br><br><table width=80% height='+Math.floor(scalef*100)+' border=1 cellpadding=0 cellspacing=0  align=center bgcolor=white><tr><td><table width=100% border=0><tr><td  bgcolor=lemonchiffon height='+Math.floor(scalef*75)+' align=center valign=middle>Internet access is required for certain updates, which is currently not available.  Please tap the Reload button and a further attempt will be made after 24 hours.</td></tr><tr height='+Math.floor(scalef*3)+'><td></td></tr><tr><td><table border=0 align=center><tr><td onClick="location.reload()">'+graphicfor('Reload')+'</td></tr></table></td></tr></table></td></tr></table>')

SetLocalVal('lastremoteadstime', Date.now()-(4*24*60*60*1000)) // in case of problems loading, ensures that it will work for next day, as lasttime now set to 4 days ago, so can reload and it should work fine
documentwrite('<sc'+'ript src="http://www.compactfun.com/remoteads/largeadsuntimed.js?time='+Date.now()+'"></sc'+'ript>')
// ?time=current time above helps to ensure that the javascript is reloaded and that a cached version is not used
}
}
</script>

</body></html>