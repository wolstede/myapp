<!DOCTYPE HTML><html><head><title>In The Dark</title>
<meta name = "viewport" content = "user-scalable=no,width=device-width" />

<script language="Javascript">
var appname='inthedark'
var appversion='1.0 (20190414)'
// localStorage.clear()
var restartconfirmationrequired=1
var adsrequired=0
/*
var thedate = new Date();
var thenow = thedate.getTime();
 
var thelater=thenow+2000

while (thedate.getTime()<thelater)
{
thedate=new Date()
}

*/
function documentwrite(someitem)
{
document.write(someitem)
}

if (document.documentElement.clientWidth==0 || document.documentElement.clientHeight==0)
{
location.reload()
}

thewindowsizes=[window.innerWidth, window.innerHeight,document.documentElement.clientWidth, document.documentElement.clientHeight]

var scalef
var screenwidth=document.documentElement.clientWidth
var screenheight=document.documentElement.clientHeight
var overallwidthscale=screenwidth/240
var overallheightscale=screenheight/360
if (overallwidthscale<overallheightscale) {scalef=Math.floor(100*overallwidthscale)/100} else {scalef=Math.floor(100*overallheightscale)/100}
if (scalef<1.0) {scalef=1.0}
var pushdown=0
if (scalef*370 < screenheight)
{
pushdown=Math.floor((screenheight-(scalef*370))/2)
}
pushdown=0
documentwrite('<style type="text/css">      \nbody {color: black; background-color: white; font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left}      \nh1 {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: bold; font-style: normal; text-align: left} \nh2 {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: italic; text-align: left} \np {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ndt {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ndd {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \nli {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ntable {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; text-align: left} \ntd {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; } \ntextarea {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; overflow:hidden;} \ninput {font-family: sans-serif; font-size: '+(scalef*10)+'px; font-weight: normal; font-style: normal; }  \n * {-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}\n</style> \n')

</script>

</head>
<body onLoad="runonload()" TOPMARGIN=0 LEFTMARGIN=0 MARGINHEIGHT=0 MARGINWIDTH=0 style="background-color:#DDFFFF; width:100%; height:100%">
<SCRIPT LANGUAGE="JavaScript">


var dialogueborder='border-style:outset;border-width:'+Math.floor(scalef*4)+'px;border-color:silver;border-radius:'+Math.floor(scalef*15)+'px;'

// Local storage
// SetLocalVal and GetLocalVal - use cookies if available, if not local storage
// Reason: for testing, local storage doesn't seem to work.  On devices, local storage works but not always cookies.  Should cover everything.

var daystoExpire = 2000;
var expirydate = new Date(); 
expirydate.setTime(expirydate.getTime() + (daystoExpire*24*60*60*1000));


function GetCookie(name) 
{  
var thecookie=document.cookie
var namestring = name+'='  
var cookieval = null
var cookievalbeg=-1
var cookievalend=thecookie.length
for (var beg=0; beg<thecookie.length; beg++)
{
var end=beg+namestring.length
if (thecookie.substring(beg, end) == namestring)
{
cookievalbeg=end
}
}
if (cookievalbeg > -1)
{
cookievalend=thecookie.indexOf(';', cookievalbeg) // look for next ; after beginning of value
if (cookievalend == -1) (cookievalend = thecookie.length)
cookieval = unescape(thecookie.substring(cookievalbeg, cookievalend))
} 

return cookieval
}


function SetCookie(name, val) 
{  
var cookiestring = name+'='+escape(val)+'; expires='+ expirydate.toGMTString()
document.cookie=cookiestring
}

var usecookies=1
SetCookie('dummy', 'answer')
if (GetCookie('dummy')==null) {usecookies=0}

// For this app cookies not adequate, so must use local storage, so set usecookies to 0
usecookies=0
</script>
<script language="Javascript">
// checks whether local storage works.  Often doesn't with Internet Explorer
var localstorageworks=0
localStorage.setItem('testcheck', '43')
if (localStorage.getItem('testcheck')=='43') {localstorageworks=1}

</script>
<script language="Javascript">


</script>
<script language="Javascript">
var localstoragesubstitute=[]

function SetLocalStorageSubstitute(someitem, someval)
{
someval=someval+''
var someset=0
for (var i=0; i<localstoragesubstitute.length; i++)
{
if (localstoragesubstitute[i][0]==someitem)
{
localstoragesubstitute[i][1]=someval
someset=1
break
}
}
if (someset==0) {localstoragesubstitute=localstoragesubstitute.concat([[someitem, someval]])}
}

function GetLocalStorageSubstitute(someitem)
{
for (var i=0; i<localstoragesubstitute.length; i++)
{
if (localstoragesubstitute[i][0]==someitem)
{
return localstoragesubstitute[i][1]
}
}
return null
}
</script>
<script language="Javascript">

function SetLocalVal(somename, someval)
{
if (usecookies==1) 
{
SetCookie(somename, someval)
}
else
{
if (localstorageworks==1)
{
localStorage.setItem(appname+somename, someval)
}
else
{
SetLocalStorageSubstitute(somename, someval)
}
}
}

function GetLocalVal(somename)
{
if (usecookies==1) 
{
return GetCookie(somename)
}
else
{
if (localstorageworks==1)
{
return localStorage.getItem(appname+somename)
}
else
{
return GetLocalStorageSubstitute(somename)
}
}
}

// end Local Storage




function continueafterad()
{
showingads=0
continuegame()
}



function changetextvalue(someitem, someval)
{
document.getElementById(someitem).innerHTML = someval
}

function gettextvalue(someitem)
{
return document.getElementById(someitem).innerHTML
}

function changebgcolor(someitem, somecolor)
{
document.getElementById(someitem).style.backgroundColor=somecolor
}

function changebgurl(someitem, someurl)
{
var somesetting="url('"+someurl+"')"
document.getElementById(someitem).style.backgroundImage=somesetting
}

function genintegers(somenum)
{
var someresult=[]
for (var i=1; i<=somenum; i++)
{
someresult[i-1]=i
}
return someresult
}

function member(someitem, somelist)
{
for (var i=0; i<somelist.length; i++)
{
if (someitem==somelist[i]) {return true}
}
return false
}

function randomnumber(num) {
// returns a random number from 1 to num
var ran=Math.round(Math.random()*num)
if (ran == 0) {ran = num}  // ran initially 0 to num - but 0 and num have half the probability of the other numbers
return ran
}

function shufflearray(somearray)
{

var temparray=somearray
var shuffled=new Array()
var packsize=somearray.length
var ran

for (var i=0; i<packsize; i++)
{
ran = randomnumber(temparray.length)
shuffled[i] = temparray[ran-1]
temparray = removeElement(ran-1, temparray)
}
return shuffled
}

function removeElement(index, somearray)
{
var beg=somearray.slice(0, index)
var end=[]
if (index+1 < somearray.length) {end = somearray.slice(index+1)}
return beg.concat(end)
}

function removeitem(someitem, somearray)
{
var somebeg=[]
var someend=[]
for (var i=0; i<somearray.length; i++)
{
if (somearray[i]==someitem) {return somearray.slice(0, i).concat(somearray.slice(i+1))}
}
return somearray
}

function copylist(somelist)
{
var somereturn=[]
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=somelist[i]
}
return somereturn
}



</script>
<script language="Javascript">


function graphicfor(somename)
{
if (somename=='blank') {return ''}
// return '<div style="position:relative"><img width='+Math.floor(scalef*50)+' height='+Math.floor(scalef*20)+' src="blackwordbg.png" style="display:block"><div style="position:absolute;top:0px;left:0px;width:100%;height:100%;display:inline"><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle ><tr height='+Math.floor(scalef*20)+'><td align=center valign=middle style="text-align:center;font-weight:bold;color:white">'+somename+'</td></tr></table></div></div>'

return '<div style="position:relative"><img width='+Math.floor(scalef*50)+' height='+Math.floor(scalef*20)+' src="greybluebutton.png" style="display:block"><div style="position:absolute;top:0px;left:0px;width:100%;height:100%;display:inline"><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle ><tr height='+Math.floor(scalef*20)+'><td align=center valign=middle style="font-size:'+Math.floor(scalef*12)+'px;text-align:center;font-weight:bold;color:white">'+somename+'</td></tr></table></div></div>'
}



function GetLocalList(somename)
{
var somestore=GetLocalVal(somename)
if (somestore==null) {return []}
return eval('['+somestore+']')
}

function GetLocalString(somename)
{
var somestore=GetLocalVal(somename)
if (somestore==null) {return ''}
return somestore
}

function GetLocalNum(somename)
{
var somestore=GetLocalVal(somename)
return somestore*1
}

function GetLocalEval(somename)
{
var somestore=GetLocalVal(somename)
return eval(somestore)
}


</script>
<script language="Javascript">






function messagedisplay(messagetext)
{
changetextvalue('statusmessage', messagetext)

}


</script>
<script language="Javascript">


function copyarray(somearray)
{
var temparray=[]
for (var i=0; i<somearray.length; i++)
{
temparray[i]=copysimplevalues(somearray[i])
}
return temparray
}

function copysimplevalues(somearray)
{
var temparray=[]
for (var i=0; i<somearray.length; i++)
{
temparray[i]=somearray[i]
}
return temparray
}

function uniquelist(somearray)
{
var somereturn=[]
for (var i=0; i<somearray.length; i++)
{
if (member(somearray[i], somereturn)==false) {somereturn=somereturn.concat([somearray[i]])}
}
return somereturn
}




function backtogame()
{
continuegame()
}

function newgame()
{
if (showingads==1 || showinghelp==1 || preventbuttonactions==1) {return}
if (GetLocalList('inthedarkstatus')[3]>=0 )
{
if (GetLocalList('inthedarkstatus')[3]<13)

{

mydecision('Please confirm that you wish to begin a new game', 'selectthegame()', 'backtogame()')
}
else
{
selectthegame()
}
}
else
{
selectthegame()
}
}

// inthedarkstatus: [overallgamestatus (0=none, 1=live), numberofplayers, challenge, stateinchallenge]
function selectthegame()
{
SetLocalVal('inthedarkstatus', [0,0,-1,-1])

var sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' cellspacing=0 style="'+dialogueborder+'width:100%;background-color:lemonchiffon"><tr><td>'
sometext=sometext+'<br><table align=center cellspacing=2 cellpadding=1 border=0>'
sometext=sometext+'<tr><td align=left colspan=2><b>Select the number of players</b><br></i></td><td align=center valign=top><br>'+centralimage()+'</td></tr><tr><td colspan=3><br>&nbsp;</td></tr>'
sometext=sometext+'<tr><td  width='+Math.floor(scalef*50)+' onClick="newgame2(3)">'+graphicfor('3')+'</td><td></td><td width='+Math.floor(scalef*50)+' onClick="newgame2(4)">'+graphicfor('4')+'</td></tr><tr><td colspan=3><br>&nbsp;</td></tr>'
sometext=sometext+'<tr><td  width='+Math.floor(scalef*50)+' onClick="newgame2(5)">'+graphicfor('5')+'</td><td></td><td  width='+Math.floor(scalef*50)+' onClick="newgame2(6)">'+graphicfor('6')+'</td></tr><tr><td colspan=3><br>&nbsp;</td></tr>'
sometext=sometext+'<tr><td width='+Math.floor(scalef*50)+' onClick="newgame2(7)">'+graphicfor('7')+'</td><td></td><td  width='+Math.floor(scalef*50)+' onClick="newgame2(8)">'+graphicfor('8')+'</td></tr><tr><td colspan=3><br>&nbsp;</td></tr>'
sometext=sometext+'<tr><td width='+Math.floor(scalef*50)+' colspan=2><b>Sample/Practice</b></td><td  width='+Math.floor(scalef*50)+' onClick="exploredisplaywords()">'+graphicfor('Sample')+'</td></tr><tr><td colspan=3></td></tr>'

sometext=sometext+'</table>;</td></tr></table>'

document.getElementById('theboard').style.display='none'
changetextvalue('output', sometext)
document.getElementById('output').style.display='inline'

}

</script>
<script language="Javascript">
function newgame2(somenum)
{

var numplayers=somenum

SetLocalVal('inthedarkstatus', [1, numplayers, -1, -1, -1]) // sometype set to 1 to distinguish from initial setting of 0 to show game is starting

newgame3()

}

</script>
<script language="Javascript">


function newgame3()
{

blankmappings=[]
var somestatus=GetLocalList('inthedarkstatus')
var numplayers=somestatus[1]*1

if (GetLocalVal('gameinitials')==null) {SetLocalVal('gameinitials', [15, 0, 15, 1, 15, 2, 15, 3, 15, 4, 15, 5, 15, 6, 15, 7])}
gameinitials=GetLocalList('gameinitials')


SetLocalVal('inthedarktext', '')

var someinfo=''
var somebuttons
var someinitials=[]

for (var i=0; i<numplayers; i++)
{
someinitials[i]=textinitialsfor(i)
}

someinfo='The '+numplayers+' players currently have the following playing initials defined:<br><br>'+someinitials+'.<br><br>'

var sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:100%;background-color:lemonchiffon"><tr><td>'
sometext=sometext+someinfo
var someeffectivenumplayers=numplayers
if (uniquelist(someinitials.slice(0, someeffectivenumplayers)).length<someinitials.slice(0, someeffectivenumplayers).length)
{
sometext=sometext+'As you can see above, there are duplicate initials.  You must tap <i>Change</i> to redefine the initials and remove duplicates.'
sometext=sometext+'<br><br><table align=center><tr><td onClick="resetinitials()">'+graphicfor('Change')+'</td></tr></table>'
}
else
{
sometext=sometext+'You may tap <i>Change</i> to redefine the initials. Please ensure that they form a clockwise sequence.'
sometext=sometext+'<br><br><table align=center><tr><td onClick="resetinitials()">'+graphicfor('Change')+'</td></tr></table>'
// sometext=sometext+'<br>When you are happy with the initials, tap OK below to start the game.'
// sometext=sometext+'<br><br><table align=center><tr><td onClick="setupinthedark()">'+graphicfor('OK')+'</td></tr></table>'
sometext=sometext+'<br>You may choose to play a complete game of 1, 2 or 3 rounds ('+numplayers+ ' challenges in each round).  Select the number of rounds below when you are happy with the initials defined.<br><br><table align=center><tr><td onClick="playgame('+numplayers+', 1)">'+graphicfor('1')+'</td><td><img src="empty.png" width='+Math.floor(scalef*20)+'  height='+Math.floor(scalef*3)+' style="display:block"></td><td onClick="playgame('+numplayers+', 2)">'+graphicfor('2')+'</td><td><img src="empty.png" width='+Math.floor(scalef*20)+'  height='+Math.floor(scalef*3)+' style="display:block"></td><td onClick="playgame('+numplayers+', 3)">'+graphicfor('3')+'</td></tr></table>'

}



sometext=sometext+'</td></tr></table>'

document.getElementById('theboard').style.display='none'
changetextvalue('output', sometext)
if (GetLocalVal('timeallowed')==null) {SetLocalVal('timeallowed', 180)}
setcountdown(GetLocalNum('timeallowed'))
}

</script>

<script language="Javascript">


// initials

function letterfromnum(someletter)
{
if (someletter>=0 && someletter<26) {return String.fromCharCode(65+someletter)}
if (someletter==26) {return '?'}
if (someletter==-1) {return ''}
}

function textinitialsfor(somenum)
{
gameinitials=GetLocalList('gameinitials')
return ''+letterfromnum(gameinitials[somenum*2])+''+letterfromnum(gameinitials[1+somenum*2])
}

var blankmappings=[]
var gameinitials=[]

function resetinitials()
{
var numplayers=GetLocalList('inthedarkstatus')[1]*1
var somenum=numplayers*2
var sometiles=[]

for (var i=0; i<somenum; i++)
{
sometiles[i]=26
}

if (blankmappings.length>sometiles.length)
{
for (var i=0; i<sometiles.length; i++)
{
gameinitials[i]=blankmappings[i]
}
SetLocalVal('gameinitials', gameinitials)
newgame3()
return


}
else
{
for (var i=0; i<blankmappings.length; i++)
{
sometiles[i]=blankmappings[i]
}
mapinitialblank(blankmappings.length, sometiles, 26)

}
}

function delinitial()
{
if (blankmappings.length==0) {return}
if (blankmappings.length>0)
{
blankmappings=blankmappings.slice(0, blankmappings.length-1)
}

resetinitials()
}

function mapinitialblank(someindex, sometiles, somecurrent)
{
var sometype=GetLocalList('inthedarkstatus')[0]
var sometext=''
var racksize=sometiles.length

if (racksize>8) {racksize2=racksize; racksize=8} else {racksize2=0}
sometext=sometext+'<br><table cellspacing=0 cellpadding=0 border=0 align=center ><tr>'
for (var i=0; i<racksize; i++)
{
if (i!=someindex)
{
sometext=sometext+'<td height='+Math.floor(scalef*5)+' style="text-align:center;color:white;font-weight:bold;font-size:'+Math.floor(scalef*4)+'px">&nbsp;</td>'
}
else
{
sometext=sometext+'<td height='+Math.floor(scalef*5)+' style="background-color:black;text-align:center;color:white;font-weight:bold;font-size:'+Math.floor(scalef*4)+'px">&nbsp;</td>'
}
if (member(i, [1,3,5])==true && i!=racksize-1)
{
sometext=sometext+'<td width='+Math.floor(scalef*5)+'></td>'
}
}
sometext=sometext+'</tr><tr>'
var someletter
var somechar
var someval

for (var i=0; i<racksize; i++)
{
someletter=sometiles[i]
if (i==someindex) {someletter=somecurrent}
somechar=letterfromnum(someletter)
if (someletter==26) {somechar='&nbsp;'}
sometext=sometext+'<td style="width:'+Math.floor(scalef*20)+'px;height:'+Math.floor(scalef*20)+'px" ><table height=100% width=100% style="border:1px solid gray;text-align:center;font-size:'+Math.floor(scalef*17)+'px;background-color:lemonchiffon;color:black;font-weight:bold"><tr><td style="font-size:'+Math.floor(scalef*13)+'px;font-weight:bold">'+somechar+'</td></tr></table></td>'
if (member(i, [1,3,5])==true && i!=racksize-1)
{
sometext=sometext+'<td width='+Math.floor(scalef*5)+'></td>'
}
}
sometext=sometext+'</tr><tr>'
for (var i=0; i<racksize; i++)
{
if (member(i, [0,2,4,6])==true)
{sometext=sometext+'<td colspan=2 height='+Math.floor(scalef*10)+' style="background-color:'+playercolours[Math.floor(i/2)]+';text-align:center;color:black;font-weight:bold;font-size:'+Math.floor(scalef*10)+'px">'+(i+2)/2+'</td>'}
if (member(i, [1,3,5])==true && i!=racksize-1)
{
sometext=sometext+'<td width='+Math.floor(scalef*10)+'></td>'
}
}
sometext=sometext+'</tr></table>'

// racksize2 begins
if (racksize2>0)
{
sometext=sometext+'<br><table cellspacing=0 cellpadding=0 border=0 align=center ><tr>'
for (var i=8; i<racksize2; i++)
{
if (i!=someindex)
{
sometext=sometext+'<td height='+Math.floor(scalef*5)+' style="text-align:center;color:white;font-weight:bold;font-size:'+Math.floor(scalef*4)+'px">&nbsp;</td>'
}
else
{
sometext=sometext+'<td height='+Math.floor(scalef*5)+' style="background-color:black;text-align:center;color:white;font-weight:bold;font-size:'+Math.floor(scalef*4)+'px">&nbsp;</td>'
}
if (member(i, [9,11,13])==true && i!=racksize2-1)
{
sometext=sometext+'<td width='+Math.floor(scalef*5)+'></td>'
}
}
sometext=sometext+'</tr><tr>'
var someletter
var somechar
var someval

for (var i=8; i<racksize2; i++)
{
someletter=sometiles[i]
if (i==someindex) {someletter=somecurrent}
somechar=letterfromnum(someletter)
if (someletter==26) {somechar='&nbsp;'}
sometext=sometext+'<td style="width:'+Math.floor(scalef*20)+'px;height:'+Math.floor(scalef*20)+'px" ><table height=100% width=100% style="border:1px solid gray;text-align:center;font-size:'+Math.floor(scalef*17)+'px;background-color:lemonchiffon;color:black;font-weight:bold"><tr><td style="font-size:'+Math.floor(scalef*13)+'px;font-weight:bold">'+somechar+'</td></tr></table></td>'
if (member(i, [9,11,13])==true && i!=racksize2-1)
{
sometext=sometext+'<td width='+Math.floor(scalef*5)+'></td>'
}
}
sometext=sometext+'</tr><tr>'
for (var i=8; i<racksize2; i++)
{
if (member(i, [8,10,12,14])==true)
{sometext=sometext+'<td colspan=2 height='+Math.floor(scalef*10)+' style="background-color:'+playercolours[Math.floor(i/2)]+';text-align:center;color:black;font-weight:bold;font-size:'+Math.floor(scalef*10)+'px">'+(i+2)/2+'</td>'}
if (member(i, [9,11,13])==true && i!=racksize2-1)
{
sometext=sometext+'<td width='+Math.floor(scalef*10)+'></td>'
}
}
sometext=sometext+'</tr></table>'






}



// end racksize2



var someconfirmkey
var somemessagetext=''
if (someindex==sometiles.length)
{
sometext=sometext+'<p style="text-align:center">'+somemessagetext+'<br>Tap &gt; or any letter key below to confirm the initials (or &lt; to make changes)<br><br>'
someconfirmkey='<td style="width:'+Math.floor(scalef*20)+'px;height:'+Math.floor(scalef*20)+'px" ><table height=100% width=100% style="border:1px solid gray;text-align:center;font-size:'+Math.floor(scalef*17)+'px;background-color:lemonchiffon;color:black;font-weight:bold" onClick="mapinitialto(0)"><tr><td style="font-size:'+Math.floor(scalef*13)+'px;font-weight:bold;background-color:green">&gt;</td></tr></table></td>'
}
else
{
sometext=sometext+'<p style="text-align:center">'+somemessagetext+'<br>Tap a letter below to specify the letter of the initials marked above<br><br>'
someconfirmkey='<td></td>'
}

sometext=sometext+'<table cellspacing=0 cellpadding=0 border=0 align=center ><tr>'


for (var i=0; i<9; i++)
{
someletter=i
somechar=letterfromnum(someletter)
sometext=sometext+'<td style="width:'+Math.floor(scalef*20)+'px;height:'+Math.floor(scalef*20)+'px" ><table height=100% width=100% style="border:1px solid gray;text-align:center;font-size:'+Math.floor(scalef*17)+'px;background-color:lemonchiffon;color:black;font-weight:bold" onClick="mapinitialto('+i+')"><tr><td style="font-size:'+Math.floor(scalef*13)+'px;font-weight:bold">'+somechar+'</td></tr></table></td>'
}

sometext=sometext+'<td style="width:'+Math.floor(scalef*20)+'px;height:'+Math.floor(scalef*20)+'px" ><table height=100% width=100% style="border:1px solid gray;text-align:center;font-size:'+Math.floor(scalef*17)+'px;background-color:lemonchiffon;color:black;font-weight:bold" onClick="delinitial()"><tr><td style="font-size:'+Math.floor(scalef*13)+'px;font-weight:bold;background-color:red">&lt;</td></tr></table></td></tr><tr>'

for (var i=9; i<18; i++)
{
someletter=i
somechar=letterfromnum(someletter)
sometext=sometext+'<td style="width:'+Math.floor(scalef*20)+'px;height:'+Math.floor(scalef*20)+'px" ><table height=100% width=100% style="border:1px solid gray;text-align:center;font-size:'+Math.floor(scalef*17)+'px;background-color:lemonchiffon;color:black;font-weight:bold" onClick="mapinitialto('+i+')"><tr><td style="font-size:'+Math.floor(scalef*13)+'px;font-weight:bold">'+somechar+'</td></tr></table></td>'
}

sometext=sometext+someconfirmkey+'</tr><tr>'
for (var i=18; i<26; i++)
{
someletter=i
somechar=letterfromnum(someletter)
sometext=sometext+'<td style="width:'+Math.floor(scalef*20)+'px;height:'+Math.floor(scalef*20)+'px" ><table height=100% width=100% style="border:1px solid gray;text-align:center;font-size:'+Math.floor(scalef*17)+'px;background-color:lemonchiffon;color:black;font-weight:bold" onClick="mapinitialto('+i+')"><tr><td style="font-size:'+Math.floor(scalef*13)+'px;font-weight:bold">'+somechar+'</td></tr></table></td>'
}

sometext=sometext+'<td></td><td></td></tr></table><br><br><table align=center border=0><tr><td onClick="newgame3()" width='+Math.floor(scalef*50)+'>'+graphicfor('Cancel')+'</td></tr></table>'

changetextvalue('output', sometext)

}

function mapinitialto(someletter)
{
blankmappings=blankmappings.concat([someletter])
resetinitials()
}
var playercolournames=['Red', 'Yellow', 'Limegreen', 'Blue', 'Orange', 'magenta', 'silver', 'Cyan']
var playercolours=['#FF8888', 'yellow', 'limegreen', 'cornflowerblue', 'orange', 'magenta', 'silver', 'cyan']


// end 


</script>
<script language="Javascript">


function restartgame()
{
var somestatus=GetLocalList('inthedarkstatus')
if (somestatus[0]>0)
{
var somefirstplayers=GetLocalEval('firstplayers')
var someplayers=GetLocalEval('players')
var someplayerlist=somefirstplayers.concat(someplayers).concat(someplayers) // This list can be used for all indexing.
var somescores=GetLocalEval('scores')
var somechallenge=somestatus[2]*1
var somenumplayers=somestatus[1]*1
var sometext=''
var somedisplaywords
var somesetwords
var somesolvewords
var somebgcolor
var somebgintensity
var somescorecard
var somefirstplayer=someplayerlist[somechallenge] // gives player index of first player
var someplayerinitials=[]
var somecurrentplayer
var someitdplayer
var somekeyindex
var somecategory

for (i=0; i<somenumplayers; i++)
{
someplayerinitials[i]=textinitialsfor(i)
}
// someplayerinitials are the initials of players according to their originally defined order
var somecontroller
sometext='<br><span style="font-size:'+Math.floor(scalef*12)+'px"><b>Welcome back to In The Dark.<br><br>You are on challenge '+(somechallenge+1)+' of '+somefirstplayers.length+'</b><br><br>'
if (somestatus[3]==0)
{
sometext=sometext+'You are about to begin the challenge.<br><br>'
somecontroller='<b>'+someplayerinitials[somefirstplayer]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}

if (somestatus[3]==1)
{
sometext=sometext+'The players are about to see the word grid.<br><br>'
somecontroller='<b>'+someplayerinitials[somefirstplayer]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}
if (somestatus[3]==2 || somestatus[3]==3 )
{
sometext=sometext+'The players are seeing whether they are <b>In The Know</b> or <b>In The Dark</b>.<br><br>'
somecontroller='<b>'+someplayerinitials[someplayerlist[somechallenge+somestatus[4]]]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}
if (somestatus[3]==4 || somestatus[3]==5)
{
sometext=sometext+'The players know whether they are <b>In The Know</b> or <b>In The Dark</b>, and are about to give their clues.<br><br>'
somecontroller='<b>'+someplayerinitials[somefirstplayer]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}
if (somestatus[3]==6 || somestatus[3]==7 )
{
sometext=sometext+'The players are selecting another player as being the one <b>In The Dark</b>.<br><br>'
somecontroller='<b>'+someplayerinitials[someplayerlist[somechallenge+somestatus[4]]]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}
if (somestatus[3]==8)
{
sometext=sometext+'The players are about to see which player is <b>In The Dark</b>.<br><br>'
somecontroller='<b>'+someplayerinitials[GetLocalVal('itdplayer')*1]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}

if (somestatus[3]==9)
{
sometext=sometext+'The players are in the middle of seeing the results of their <b>In The Dark</b> selections.<br><br>'
somecontroller='<b>'+someplayerinitials[GetLocalVal('itdplayer')*1]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}

if (somestatus[3]==10 || somestatus[3]==11)
{
sometext=sometext+'The player who is <b>In The Dark</b> is in the middle of selecting and checking the Key Word.<br><br>'
somecontroller='<b>'+someplayerinitials[GetLocalVal('itdplayer')*1]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}

if (somestatus[3]==12)
{
sometext=sometext+'The players are in the middle of seeing the scores for the challenge.<br><br>'
somecontroller='<b>'+someplayerinitials[GetLocalVal('itdplayer')*1]+'</b>'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue the game.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}

if (somestatus[3]==13)
{
sometext=sometext+'The previous game is over.<br><br>'
somecontroller='Anybody'
sometext=sometext+somecontroller+ ' should take the device and tap <i>OK</i> to continue.'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="continuegame()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'

}
sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:95%;background-color:lemonchiffon;text-align:center" align=center><tr><td>'+sometext
sometext=sometext+'</span></td></tr></table>'
document.getElementById('theboard').style.display='none'
changetextvalue('output', sometext)
document.getElementById('output').style.display='inline'
return

}
continuegame()

}




function continuegame()
{
var somestatus=GetLocalList('inthedarkstatus')
if (somestatus[0]>0)
{
continuechallenge()
}
else
{
selectthegame()
}
}


function convertlisttotext(somename, somelist)
{
var sometext='['
var somearray=convertitemstotext(somename, somelist)
sometext=sometext+somearray
sometext=sometext+']'
return sometext
}


function convertitemstotext(somename, somelist)
{
var somereturn=[]
if (somename=='number')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=somelist[i]
}
}

if (somename=='text')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]='"'+somelist[i]+'"'
}
}

if (somename=='listnumber')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('number', somelist[i])
}
}

if (somename=='listtext')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('text', somelist[i])
}
}

if (somename=='listlistnumber')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('listnumber', somelist[i])
}
}

if (somename=='listlisttext')
{
for (var i=0; i<somelist.length; i++)
{
somereturn[i]=convertlisttotext('listtext', somelist[i])
}
}



return somereturn
}



function emptytextornumber(someval)
{
if (someval==='') {return '""'} else {return someval}
}

// [[somerecorda, somerecordb, '+'], somerecorda[1]+somerecordb[1], somec]

function convertresulttotext(somearray)
{
if (somearray.length==0) {return '""'}
if (somearray[1]==1)
{
return '[[], 1, '+somearray[2]+']'
}
else
{
return '[['+convertresulttotext(somearray[0][0])+','+convertresulttotext(somearray[0][1])+',"'+somearray[0][2]+'"], '+somearray[1]+', '+somearray[2]+']'

}

}

</script>
<script language="Javascript">

// Start main app code

// All code copyright of TopAccolades Limited





var thewords=[]
var wordsingrid=18

var numberwords=wordsingrid
var normalbg='green'
var incorrectbg='red'



// inthedarkstatus=[gamestatus, numberofplayers, currentchallenge, challengepos (0=showallgrid, 1=setting, 2=handtoothers
//                                           3=definingclue/approve, 4=handtosolver, 5=solving, 6=displayresult, 7=displayscore, 8=showsettings, 9=incompletesetting, 10=rejectedclue, 11=incompletesolution, 12=endround, 13=endgame)
// 

function playgame(somenumplayers, somerounds)
{

var someplayers=[0,1,2,3, 4, 5, 6, 7].slice(0, somenumplayers)

var someran=randomnumber(somenumplayers)-1
var somereorderedplayers=someplayers.slice(someran).concat(someplayers.slice(0, someran))

var someplayerorder=[]
for (var i=0; i<somerounds; i++)
{
someplayerorder=someplayerorder.concat(somereorderedplayers)
}

// someplayerorder shows who will be first player in each challenge of the complete game

SetLocalVal('inthedarkstatus', [1, somenumplayers, 0, 0])
SetLocalVal('players', convertlisttotext('number', somereorderedplayers))

SetLocalVal('firstplayers', convertlisttotext('number', someplayerorder))
SetLocalVal('scores', convertlisttotext('number', [0,0,0,0,0,0,0,0]))
SetLocalVal('challengescores', convertlisttotext('number', [0,0,0,0,0,0,0,0]))

continuechallenge()
}
</script>
<script language="Javascript">




function saveinthedarktext()
{

SetLocalVal('inthedarktext', escape(document.getElementById('inthedarktext').value))
}

</script>
<script language="Javascript">

function continuechallenge()
{

var somestatus=GetLocalList('inthedarkstatus')

var somefirstplayers=GetLocalEval('firstplayers')
var someplayers=GetLocalEval('players')
var someplayerlist=somefirstplayers.concat(someplayers).concat(someplayers) // This list can be used for all indexing.
var somescores=GetLocalEval('scores')
var somechallenge=somestatus[2]*1
var somenumplayers=somestatus[1]*1
var sometext=''
var somedisplaywords
var somesetwords
var somesolvewords
var somebgcolor
var somebgintensity
var somescorecard
var somefirstplayer=someplayerlist[somechallenge] // gives player index of first player
var someplayerinitials=[]
var somecurrentplayer
var someitdplayer
var somekeyindex
var somecategory

for (i=0; i<somenumplayers; i++)
{
someplayerinitials[i]=textinitialsfor(i)
}
// someplayerinitials are the initials of players according to their originally defined order
showcurrentad()


// changetextvalue('challengenum', somechallenge+1)
// Determine the words to be displayed, the key word, and the ITD player
if (somestatus[3]==0)
{

var someset=displaytimeslist[randomnumber(displaytimeslist.length)-1]
if (someset==-1)
{
somecategory='Any'
var someallwords=[]
for (var i=0; i<inthedarkwords.length; i++)
{
someallwords=someallwords.concat(inthedarkwords[i][1])
}
somewords=uniquelist(someallwords)
}
else
{
somecategory=inthedarkwords[someset][0]
var somewords=inthedarkwords[someset][1]
}
somewords=shufflearray(somewords).slice(0, numberwords)
SetLocalVal('challengescores', convertlisttotext('number', [0,0,0,0,0,0,0,0]))

SetLocalVal('displaywords', convertlisttotext('text', somewords))
SetLocalVal('category', convertlisttotext('text', [somecategory]))
somekeyindex=randomnumber(numberwords)-1
SetLocalVal('keywordindex',  somekeyindex)
SetLocalVal('itdplayer', randomnumber(somenumplayers)-1)
sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:95%;background-color:lemonchiffon;text-align:center" align=center><tr><td>'
sometext=sometext+'<span style="font-size:'+Math.floor(scalef*12)+'px"><br><b>Challenge '+(somechallenge+1)+' of '+somefirstplayers.length+'</b><br><br>You will be shown '+numberwords+' words/names in a grid.<br><br><b>'+someplayerinitials[somefirstplayer]+'</b>, who is the lead player for this challenge, should take the device and tap the <i>OK</i> button, which will display the words for this challenge, together with their associated category, and let all players see them.</span'

sometext=sometext+'<br><br><br><table align=center border=0><tr><td onClick="goto(1)" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'


sometext=sometext+'</td></tr></table>'

document.getElementById('theboard').style.display='none'

changetextvalue('output', sometext)

document.getElementById('output').style.display='inline'

return
}


// Show the words to everyone unhighlighted. Press OK to continue
if (somestatus[3]==1)
{

writethewordtable()
somedisplaywords=GetLocalEval('displaywords')
somecategory=GetLocalEval('category')[0]
changetextvalue('category', somecategory)
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', normalbg, somedisplaywords[i]))
}


// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(2)">'+graphicfor('OK')+'</td>'

changetextvalue('workpad', 'All players should look at the words and category, then <b>'+someplayerinitials[somefirstplayer]+'</b> should tap <i>OK</i> to continue.')

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
somestatus[4]=-1
SetLocalVal('inthedarkstatus', somestatus)
return
}

// Inform each player (in turn) to press OK and see key word (or not, in case of ITD player)
if (somestatus[3]==2)
{

somecurrentplayer=someplayerlist[somechallenge+somestatus[4]] // 

sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:95%;background-color:lemonchiffon;text-align:center" align=center><tr><td>'

sometext=sometext+'<span style="font-size:'+Math.floor(scalef*12)+'px"><br><b>Challenge '+(somechallenge+1)+' of '+somefirstplayers.length+'<br><br>'+someplayerinitials[somecurrentplayer]+'</b> should now have the device.<br><br>Tap the <i>OK</i> button to see whether you are<br><br><b>In The Know</b><br>+<br><b>Key Word</b><br><br>or<br><br><b>In The Dark</b></span>'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="goto(3)" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'


sometext=sometext+'</td></tr></table>'
document.getElementById('theboard').style.display='none'
changetextvalue('output', sometext)
document.getElementById('output').style.display='inline'

return
}

// See whether you are In The Dark or In The Know, and, if so, see the Key Word.
if (somestatus[3]==3)
{
writethewordtable()
somedisplaywords=GetLocalEval('displaywords')
somecategory=GetLocalEval('category')[0]
changetextvalue('category', somecategory)
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', normalbg, somedisplaywords[i]))
}

somekeyindex=GetLocalVal('keywordindex')*1
someitdplayer=GetLocalVal('itdplayer')*1
somecurrentplayer=someplayerlist[somechallenge+somestatus[4]]
var someitdmessage=''
var somenextplayer=someplayerlist[somechallenge+somestatus[4]+1]
somenextplayerinitials=someplayerinitials[somenextplayer]
if (somecurrentplayer==someitdplayer)
{
someitdmessage='<b>'+someplayerinitials[somecurrentplayer]+'</b>: You are <b>In The Dark</b>, so the Key Word is not highlighted. Pass the device to <b>'+somenextplayerinitials+'</b>'
}
else
{
someitdmessage='<b>'+someplayerinitials[somecurrentplayer]+'</b>: You are <b>In The Know</b>, so the Key Word is highlighted. Remember this then pass the device to <b>'+somenextplayerinitials+'</b>'
changetextvalue('word'+somekeyindex, imagefor('dark', normalbg, somedisplaywords[somekeyindex]))
}
// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(2)">'+graphicfor('OK')+'</td>'

if (somestatus[4]==somenumplayers-1) {somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(4)">'+graphicfor('OK')+'</td>'}
changetextvalue('workpad', someitdmessage)

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'

return

}


// Review, discuss and give clues
if (somestatus[3]==4)
{
sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:95%;background-color:lemonchiffon;text-align:center" align=center><tr><td>'
sometext=sometext+'<br><span style="font-size:'+Math.floor(scalef*12)+'px"><b>Challenge '+(somechallenge+1)+' of '+somefirstplayers.length+'</b><br><br><span style="font-weight:bold;color:red">It\'s Clue Time!</span><br><br>You will be now be shown the grid again for the most important part of the challenge.<br><br>Beginning with <b>'+someplayerinitials[somefirstplayer]+'</b>, each player should, in turn, give their clue (word/words, sound, action or drawing).<br><br><b>'+someplayerinitials[somefirstplayer]+'</b> should tap the <i>OK</i> button to reveal the grid.</span>'

sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="goto(5)" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'


sometext=sometext+'</td></tr></table>'

document.getElementById('theboard').style.display='none'

changetextvalue('output', sometext)

document.getElementById('output').style.display='inline'

return
}

// Show grid again and give clues in turn
if (somestatus[3]==5)
{
writethewordtable()
somedisplaywords=GetLocalEval('displaywords')
somecategory=GetLocalEval('category')[0]
changetextvalue('category', somecategory)
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', normalbg, somedisplaywords[i]))
}


// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(6)">'+graphicfor('OK')+'</td>'

changetextvalue('workpad', 'Starting with <b>'+someplayerinitials[somefirstplayer]+'</b>, each player should now give their clue in turn. After all clues have been given, <b>'+someplayerinitials[somefirstplayer]+'</b> should tap <i>OK</i>.')

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
somestatus[4]=-1
SetLocalVal('inthedarkstatus', somestatus)

SetLocalVal('itdselections', [-1, -1, -1, -1, -1, -1, -1, -1]) // ensures no ITD selected for any of the players.  Selections will be 0-7.
return
}

// Introduce accusation
if (somestatus[3]==6)
{


somecurrentplayer=someplayerlist[somechallenge+somestatus[4]] // 

sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:95%;background-color:lemonchiffon;text-align:center" align=center><tr><td>'

sometext=sometext+'<br><span style="font-size:'+Math.floor(scalef*12)+'px"><b>Challenge '+(somechallenge+1)+' of '+somefirstplayers.length+'</b><br><br><b>'+someplayerinitials[somecurrentplayer]+'</b> should now have the device.<br><br>Tap the <i>OK</i> button to see the initials of the other players, and choose which one you think is <br><br><b>In The Dark</b></span>'
sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="goto(7)" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'


sometext=sometext+'</td></tr></table>'
document.getElementById('theboard').style.display='none'
changetextvalue('output', sometext)
document.getElementById('output').style.display='inline'

return
}

// Accuse another player of being In The Dark
if (somestatus[3]==7)
{
somedisplaywords=GetLocalEval('displaywords')

writethewordtable()
changebgurl('tableforwords', 'greenwood.jpg')
changetextvalue('category', 'Who\'s In The Dark?')
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', 'blank', '&nbsp;'))
}
someitdplayer=GetLocalVal('itdplayer')*1
somecurrentplayer=someplayerlist[somechallenge+somestatus[4]]
for (var i=0; i<someplayers.length; i++)
{
if (somecurrentplayer!=i) 
	{changetextvalue('word'+(6+i), imagefor('light', 'blue', someplayerinitials[i]))}
else
	{changetextvalue('word'+(6+i), imagefor('light', 'silver', someplayerinitials[i]))}
}
var someitdselections=GetLocalList('itdselections')
var somecurrentplayeritdselection=someitdselections[somecurrentplayer]
// if the current player has already made a selection, highlight the selection
if (somecurrentplayeritdselection>-1)
{
changetextvalue('word'+(6+somecurrentplayeritdselection), imagefor('dark', 'blue', someplayerinitials[somecurrentplayeritdselection]))
}


var someitdmessage=''
var somenextplayer=someplayerlist[somechallenge+somestatus[4]+1]
somenextplayerinitials=someplayerinitials[somenextplayer]
if (somecurrentplayer==someitdplayer)
{
someitdmessage='<b>'+someplayerinitials[somecurrentplayer]+'</b>: Please select a player as <b>In The Dark</b>, even though you are. Then tap <i>OK</i> and pass the device to <b>'+somenextplayerinitials+'</b>.'
}
else
{
someitdmessage='<b>'+someplayerinitials[somecurrentplayer]+'</b>: Please select another player as being <b>In The Dark</b>. Then tap <i>OK</i> and pass the device to <b>'+somenextplayerinitials+'</b>.'
}
// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(6)">'+graphicfor('OK')+'</td>'

if (somestatus[4]==somenumplayers-1) {somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(8)">'+graphicfor('OK')+'</td>'}
changetextvalue('workpad', someitdmessage)

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
return

}

// Introduce actual ITD, selections made
if (somestatus[3]==8)
{
someitdplayer=GetLocalVal('itdplayer')*1

sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:95%;background-color:lemonchiffon;text-align:center" align=center><tr><td>'
sometext=sometext+'<br><span style="font-size:'+Math.floor(scalef*12)+'px"><b>Challenge '+(somechallenge+1)+' of '+somefirstplayers.length+'</b><br><br>Everyone has made their selections.<br><br>The actual player <b>In The Dark</b> is<br><br><span style="font-size:'+Math.floor(scalef*14)+'px;color:red;font-weight:bold">'+someplayerinitials[someitdplayer]+'</span><br><br>Tap <i>OK</i> to see everyone\'s selections.<br><br>Note: points are won/lost as follows:<ul><li style="font-size:'+Math.floor(scalef*12)+'px">1 point for a correct selection<li style="font-size:'+Math.floor(scalef*12)+'px">-1 point for an incorrect selection<li style="font-size:'+Math.floor(scalef*12)+'px">-1 point for being incorrectly selected (by one or more players)</ul></span>'

sometext=sometext+'<table align=center border=0><tr><td onClick="goto(9)" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table>'


sometext=sometext+'</td></tr></table>'

document.getElementById('theboard').style.display='none'

changetextvalue('output', sometext)

document.getElementById('output').style.display='inline'

return
}

// Show accusations
if (somestatus[3]==9)
{
somedisplaywords=GetLocalEval('displaywords')

writethewordtable()
changebgurl('tableforwords', 'greenwood.jpg')

changetextvalue('category', 'In The Dark Selections Made')
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', 'blank', '&nbsp;'))
}
changetextvalue('word0', imagefor('dark', 'blue', 'Player'))
changetextvalue('word1', imagefor('dark', 'yellow', 'Selection'))
var someitdselections=GetLocalList('itdselections')
someitdplayer=GetLocalVal('itdplayer')*1

for (var i=0; i<somenumplayers; i++)
{
changetextvalue('word'+((2*i)+2), imagefor('light', 'blue', someplayerinitials[i]))
changetextvalue('word'+((2*i)+3), imagefor('light', 'yellow', someplayerinitials[someitdselections[i]]))
}
changetextvalue('word'+((2*someitdplayer)+2), imagefor('light', 'silver', someplayerinitials[someitdplayer]))
changetextvalue('word'+((2*someitdplayer)+3), imagefor('light', 'silver', '&nbsp;'))


var someitdmessage=''
someitdmessage='Pass the device to <b>'+someplayerinitials[someitdplayer]+'</b>, who should tap <i>OK</i> ready to select the Key Word.' 
SetLocalVal('keywordselection', -1)

// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(10)">'+graphicfor('OK')+'</td>'

changetextvalue('workpad', someitdmessage)

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
return

}




// Let ITD player select the Key Word
if (somestatus[3]==10)
{
writethewordtable()

somedisplaywords=GetLocalEval('displaywords')
somecategory=GetLocalEval('category')[0]
changetextvalue('category', somecategory)
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', normalbg, somedisplaywords[i]))
}

somekeyindex=GetLocalVal('keywordindex')*1
someitdplayer=GetLocalVal('itdplayer')*1
somekeywordselection=GetLocalVal('keywordselection')*1
if (somekeywordselection>-1)
{
changetextvalue('word'+somekeywordselection, imagefor('dark', normalbg, somedisplaywords[somekeywordselection]))
}
// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(11)">'+graphicfor('OK')+'</td>'

changetextvalue('workpad', '<b>'+someplayerinitials[someitdplayer]+'</b> should now tap to highlight the Key Word, to gain a bonus of 2 points. Then <b>'+someplayerinitials[someitdplayer]+'</b> should tap <i>OK</i> to see the actual Key Word.')

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
return
}


// Show actual Key Word and ITD selection
if (somestatus[3]==11)
{
writethewordtable()
somedisplaywords=GetLocalEval('displaywords')
somecategory=GetLocalEval('category')[0]
changetextvalue('category', somecategory)
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', normalbg, somedisplaywords[i]))
}

somekeyindex=GetLocalVal('keywordindex')*1
someitdplayer=GetLocalVal('itdplayer')*1
somekeywordselection=GetLocalVal('keywordselection')*1
changetextvalue('word'+somekeyindex, imagefor('dark', normalbg, somedisplaywords[somekeyindex]))
var somebonusmessage='Correct! Bonus of two points.'
if (somekeywordselection!=somekeyindex)
{
changetextvalue('word'+somekeywordselection, imagefor('dark', 'red', somedisplaywords[somekeywordselection]))
somebonusmessage='Incorrect - no bonus.'
}
// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(12)">'+graphicfor('OK')+'</td>'

changetextvalue('workpad', somebonusmessage+' Tap <i>OK</i> to see the scores for the challenge.')

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
return
}


// Show challenge scores
if (somestatus[3]==12)
{

writethewordtable()
changebgurl('tableforwords', 'greenwood.jpg')

changetextvalue('category', 'Scores For Challenge')
for (var i=0; i<numberwords; i++)
{
changetextvalue('word'+i, imagefor('light', 'blank', '&nbsp;'))
}


changetextvalue('word0', imagefor('dark', 'blue', 'Player'))
changetextvalue('word1', imagefor('dark', 'yellow', 'Score'))

var somescores=GetLocalEval('challengescores')

for (var i=0; i<somenumplayers; i++)
{
changetextvalue('word'+((2*i)+2), imagefor('light', 'blue', someplayerinitials[i]))
changetextvalue('word'+((2*i)+3), imagefor('light', 'yellow', somescores[i]))
}

var someitdmessage=''
someitdmessage='Above are the scores for this challenge. Tap Scores to see overall scores for the game. Tap <i>OK</i> to continue.' 

// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="showscores()">'+graphicfor('Scores')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="goto(0)">'+graphicfor('OK')+'</td>'

changetextvalue('workpad', someitdmessage)

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
return

}


// Announce end of game
if (somestatus[3]==13)
{

sometext='<br><table border=0 cellpadding='+Math.floor(scalef*3)+' style="'+dialogueborder+'width:95%;background-color:lemonchiffon;text-align:center" align=center><tr><td>'
sometext=sometext+'<br><br><span style="font-size:'+Math.floor(scalef*12)+'px"><b>Game Over</b><br><br>All challenges have been completed.<br><br>Tap <i>Scores</i> to see the overall scores.<br><br>Tap <i>New (top left)</i> to start a new game.'

sometext=sometext+'<br><br><table align=center border=0><tr><td onClick="showscores()" width='+Math.floor(scalef*50)+'>'+graphicfor('Scores')+'</td></tr></table>'


sometext=sometext+'<br>&nbsp;</td></tr></table>'

document.getElementById('theboard').style.display='none'

changetextvalue('output', sometext)

document.getElementById('output').style.display='inline'

return
}




}


function exploredisplaywords()
{
var someset=displaytimeslist[randomnumber(displaytimeslist.length)-1]
if (someset==-1)
{
var somecategory='Any'
var someallwords=[]
for (var i=0; i<inthedarkwords.length; i++)
{
someallwords=someallwords.concat(inthedarkwords[i][1])
}
somewords=uniquelist(someallwords)
}
else
{
somecategory=inthedarkwords[someset][0]
var somewords=inthedarkwords[someset][1]
}
somewords=shufflearray(somewords).slice(0, numberwords)
SetLocalVal('displaywords', convertlisttotext('text', somewords))
SetLocalVal('category', convertlisttotext('text', [somecategory]))
somekeyindex=randomnumber(numberwords)-1
SetLocalVal('keywordindex',  somekeyindex)

writethewordtable()
somedisplaywords=somewords
changetextvalue('category', somecategory)
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', normalbg, somedisplaywords[i]))
}
changetextvalue('word'+somekeyindex, imagefor('dark', normalbg, somedisplaywords[somekeyindex]))

// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="exploredisplaywords()">'+graphicfor('Sample')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="exploredisplaywords2()">'+graphicfor('OK')+'</td>'

changetextvalue('workpad', 'This is a sample set of display words with one highlighted. Tap <i>OK</i> for no highlight, or tap <i>Sample</i> for another set of words.')

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
showcurrentad()

return
}

function exploredisplaywords2()
{
somedisplaywords=GetLocalEval('displaywords')
for (var i=0; i<somedisplaywords.length; i++)
{
changetextvalue('word'+i, imagefor('light', normalbg, somedisplaywords[i]))
}
// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="exploredisplaywords()">'+graphicfor('Sample')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="exploredisplaywords()">'+graphicfor('Sample')+'</td>'

changetextvalue('workpad', 'Tap <i>Sample</i> for another set of words.')

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')

showcurrentad()
return
}


function showscores()
{
var somestatus=GetLocalList('inthedarkstatus')
var somenumplayers=somestatus[1]*1

writethewordtable()
changebgurl('tableforwords', 'greenwood.jpg')

changetextvalue('category', 'Running Total Scores')
for (var i=0; i<numberwords; i++)
{
changetextvalue('word'+i, imagefor('light', 'blank', '&nbsp;'))
}


changetextvalue('word0', imagefor('dark', 'blue', 'Player'))
changetextvalue('word1', imagefor('dark', 'yellow', 'Score'))

var somescores=GetLocalEval('scores')
var someplayerinitials=[]
for (i=0; i<somenumplayers; i++)
{
someplayerinitials[i]=textinitialsfor(i)
}
// someplayerinitials are the initials of players according to their originally defined order

for (var i=0; i<somenumplayers; i++)
{
changetextvalue('word'+((2*i)+2), imagefor('light', 'blue', someplayerinitials[i]))
changetextvalue('word'+((2*i)+3), imagefor('light', 'yellow', somescores[i]))
}

var someitdmessage=''
someitdmessage='Above are the current overall scores for this game. Tap <i>Back</i> to go back' 

// show scores and OK buttons
var somebutton1='<td width='+Math.floor(scalef*50)+' onClick="continuechallenge()">'+graphicfor('Back')+'</td>'
var somebutton2='<td width='+Math.floor(scalef*50)+' onClick="continuechallenge()">'+graphicfor('Back')+'</td>'

changetextvalue('workpad', someitdmessage)

changetextvalue('scoresbuttons', '<table border=0 cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'><tr>'+somebutton1+'<td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td><td style="text-align:center;font-weight:bold;color:black;font-size:'+Math.floor(scalef*8)+'px"></td><td width='+Math.floor(scalef*3)+'><img src="empty.png" width='+Math.floor(scalef*3)+'></td>'+somebutton2+'</tr></table>')
document.getElementById('theboard').style.display='inline'
changetextvalue('output', '&nbsp;')
document.getElementById('output').style.display='none'
return


}




function calculatescoretable()
{
var somekeyindex=GetLocalVal('keywordindex')*1
var somekeywordselection=GetLocalVal('keywordselection')*1

var someitdplayer=GetLocalVal('itdplayer')*1
var someitdselections=GetLocalList('itdselections')
var somechallengescores=[0, 0, 0, 0, 0, 0, 0, 0]
var somewrongchoices=[0,0,0,0,0,0,0,0]
for (var i=0; i<someitdselections.length; i++)
{
if (i!=someitdplayer && someitdselections[i]!=-1)
{
if (someitdselections[i]==someitdplayer)
{
somechallengescores[i]++
}
else
{
somechallengescores[i]--
somewrongchoices[someitdselections[i]]++
}
}
}
// next deduct 1 pt if anyone is wrongly selected. Only 1 pt no matter how many times.
for (var i=0; i<somewrongchoices; i++)
{
if (somewrongchoices>0) {somechallengescores[i]--}
}
if (somekeyindex==somekeywordselection) 
{
somechallengescores[someitdplayer]=somechallengescores[someitdplayer]+2
}
return somechallengescores
}




function clickword(somenum)
{
var somestatus=GetLocalList('inthedarkstatus')

if (somestatus[3]==7)
{
var somefirstplayers=GetLocalEval('firstplayers')
var someplayers=GetLocalEval('players')
var someplayerlist=somefirstplayers.concat(someplayers).concat(someplayers) // This list can be used for all indexing.
// var somescores=GetLocalEval('scores')
var somechallenge=somestatus[2]*1
var somenumplayers=somestatus[1]*1
var someitdplayer=GetLocalVal('itdplayer')*1
var somecurrentplayer=someplayerlist[somechallenge+somestatus[4]] // this is the player's 'raw' index, kept throughout the game
var someitdselections=GetLocalList('itdselections')
var somechoice=somenum-6 // we begin the player initials at i=6
if (somechoice>=0 && somechoice<somenumplayers && somechoice!=somecurrentplayer) // if the selection is one of the other players, then change the selection to this
{
someitdselections[somecurrentplayer]=somechoice
SetLocalVal('itdselections', someitdselections)

}
}

if (somestatus[3]==10)
{
SetLocalVal('keywordselection', somenum)
}
continuechallenge()
}




function goto(somenum)
{
var somestatus=GetLocalList('inthedarkstatus')

if (somenum==0)
{

somestatus[2]++
if (somestatus[2]<GetLocalEval('firstplayers').length)
{
somestatus[3]=0
somestatus[4]=-1
}
else
{
somestatus[3]=13
SetLocalVal('inthedarkstatus', somestatus)

continuechallenge()
return
}
}
if (somestatus[3]==7 && (somenum==6 || somenum==8))
{
var somefirstplayers=GetLocalEval('firstplayers')
var someplayers=GetLocalEval('players')
var someplayerlist=somefirstplayers.concat(someplayers).concat(someplayers) // This list can be used for all indexing.
var somechallenge=somestatus[2]*1
var somenumplayers=somestatus[1]*1
var someitdplayer=GetLocalVal('itdplayer')*1
var somecurrentplayer=someplayerlist[somechallenge+somestatus[4]] // this is the player's 'raw' index, kept throughout the game
var someitdselections=GetLocalList('itdselections')
if (someitdselections[somecurrentplayer]==-1) {return}
}

if (somenum==11)
{
var someselection=GetLocalVal('keywordselection')*1
if (someselection==-1) {return}
}

if (somenum==2 || somenum==6) {somestatus[4]++} // increment player number when going to 2 or 6
if (somenum==12)
{
var somescoring=calculatescoretable()
SetLocalVal('challengescores', convertlisttotext('number', somescoring))
var somescores=GetLocalEval('scores')
for (var i=0; i<somescores.length; i++)
{
somescores[i]=somescores[i]+somescoring[i]
} 
SetLocalVal('scores', convertlisttotext('number', somescores))
}
somestatus[3]=somenum

SetLocalVal('inthedarkstatus', somestatus)

continuechallenge()
}


function imagefor(someshade, somecolour, someletter)
{
var somebg='#FFFACD'
var sometextcolour='black'
if (someletter==='' || someletter===' ') {someletter='&nbsp;'}
if (someshade=='dark') {sometextcolour='white'}


return '<div style="position:relative"><img width='+Math.floor(scalef*114)+' height='+Math.floor(scalef*17)+' src="'+someshade+somecolour+'wordbg.png" style="display:block"><div style="position:absolute;top:0px;left:0px;width:100%;height:100%;display:block"><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle ><tr height='+Math.floor(scalef*17)+'><td align=center valign=middle style="font-size:'+Math.floor(scalef*13)+'px;text-align:center;font-weight:bold;color:'+sometextcolour+'">'+someletter+'</td></tr></table></div></div>'



}

//  End -->
</script>




<script language="Javascript">

function writethewordtable()
{

var sometext=''

sometext=sometext+'<table id="tableforwords" width=100% border=0 cellspacing=0 cellpadding=0 style = "background-color:none; background:url(\'redwood.jpg\');" align=center>'
for (var i=0; i<(numberwords/2); i++)
{
sometext=sometext+'<tr>'
for (var j=0; j<2; j++)
{
sometext=sometext+'<td style="overflow:hidden" onClick="clickword('+((i*2)+j)+')" id="word'+((i*2)+j)+'" width="'+Math.floor(scalef*114)+'" align=center></td>'
if (j<1) {sometext=sometext+'<td><img src="empty.png" width='+Math.floor(scalef*2)+'  height='+Math.floor(scalef*2)+' style="display:block"></td>'}
}
sometext=sometext+'</tr><tr><td colspan=5><img src="empty.png" width='+Math.floor(scalef*230)+'  height='+Math.floor(scalef*1)+' style="display:block"></td></tr>'
}
sometext=sometext+'</table>'

changetextvalue('wordtable', sometext)
}

function writethegame()
{
documentwrite('<div id="theboard" style="display:none; background-color:silver">')
documentwrite('<center>')
documentwrite('<table width=100% border=0 cellspacing=0 cellpadding=0 style = "background-color:none" align=center>')

documentwrite('<tr><td width=100% align=center><div id="category" style="color:black;border-radius:'+Math.floor(scalef*5)+'px;background-color:#FFAAAA;border-color:silver; border-style:inset; border-width:3px;text-align:center;font-size:'+Math.floor(scalef*13)+'px; font-weight:bold;width:95%"></div></td></tr>')
documentwrite('<tr><td ><img src="empty.png" width='+Math.floor(scalef*230)+'  height='+Math.floor(scalef*2)+' style="display:block"></td></tr>')

documentwrite('<tr><td width=100% id="wordtable">')

documentwrite('</td></tr>')

documentwrite('<tr style="display:none"><td ><table border=1 cellpadding=0 cellspacing=0 width=100%><tr><td onClick="setzoom(0)" style="background-color:silver;color:white;width:'+Math.floor(scalef*50)+'px;text-align:center" valign=middle id="col3"><table border=0 valign=middle height=100% cellspacing=0 cellpadding=0 align=center><tr><td valign=middle><span style="display:block;font-size:'+Math.floor(scalef*5)+'px;color:white;background-color:black">&nbsp;Word&nbsp;</span></td><td><img src="empty.png" width='+Math.floor(scalef*2)+'  height='+Math.floor(scalef*4)+' style="display:block"></td><td valign=middle><span style="display:block;font-size:'+Math.floor(scalef*5)+'px;color:white;background-color:black">&nbsp;Word&nbsp;</span></td><td><img src="empty.png" width='+Math.floor(scalef*2)+'  height='+Math.floor(scalef*4)+' style="display:block"></td><td valign=middle><span style="display:block;font-size:'+Math.floor(scalef*5)+'px;color:white;background-color:black">&nbsp;Word&nbsp;</span></td></tr></table></td><td style="font-size:'+Math.floor(scalef*10)+'px;background-color:blue;color:white;text-align:center;font-weight:bold;width:30px" id="challengenum">0</td><td style="font-size:'+Math.floor(scalef*10)+'px;background-color:yellow;text-align:center;font-weight:bold" id="timerdisplay">&nbsp;</td><td style="font-size:'+Math.floor(scalef*10)+'px;background-color:blue;color:white;text-align:center;font-weight:bold;width:30px" id="numchallenges">0</td><td onClick="setzoom(1)" style="background-color:silver;color:white;width:'+Math.floor(scalef*50)+'px;text-align:center" valign=middle id="col2"><table border=0 valign=middle cellspacing=0 cellpadding=0 align=center><tr><td valign=middle><span style="display:block;font-size:'+Math.floor(scalef*8)+'px;color:white;background-color:black">&nbsp;Word&nbsp;</span></td><td><img src="empty.png" width='+Math.floor(scalef*2)+'  height='+Math.floor(scalef*4)+'  style="display:block"></td><td valign=middle><span style="display:block;font-size:'+Math.floor(scalef*8)+'px;color:white;background-color:black">&nbsp;Word&nbsp;</span></td></tr></table></td></tr></table></td></tr>')
/*
documentwrite('<tr style="display:none"><td ><table border=1 cellpadding=0 cellspacing=0 width=100%><tr><td onClick="setzoom(0)" style="background-color:silver;color:white;width:'+Math.floor(scalef*50)+'px;text-align:center" valign=middle id="col3"><table border=0 valign=middle cellspacing=0 cellpadding=0 align=center><tr><td><img valign=top src="solid.png" width='+Math.floor(scalef*14)+' height='+Math.floor(scalef*5)+' style="display:block"></td><td><img src="empty.png" width='+Math.floor(scalef*2)+'  height='+Math.floor(scalef*4)+' style="display:block"></td><td><img valign=top src="solid.png" width='+Math.floor(scalef*14)+' height='+Math.floor(scalef*5)+' style="display:block"></td><td><img src="empty.png" width='+Math.floor(scalef*2)+'  height='+Math.floor(scalef*4)+' style="display:block"></td><td><img valign=top src="solid.png" width='+Math.floor(scalef*14)+' height='+Math.floor(scalef*5)+' style="display:block"></td></tr></table></td><td style="font-size:'+Math.floor(scalef*10)+'px;background-color:yellow;text-align:center;font-weight:bold" id="timerdisplay">&nbsp;</td><td onClick="setzoom(1)" style="background-color:silver;color:white;width:'+Math.floor(scalef*50)+'px;text-align:center" valign=middle id="col2"><table border=0 valign=middle cellspacing=0 cellpadding=0 align=center><tr><td><img src="solid.png" width='+Math.floor(scalef*21)+' height='+Math.floor(scalef*8)+'  style="display:block"></td><td><img src="empty.png" width='+Math.floor(scalef*4)+'  height='+Math.floor(scalef*4)+'  style="display:block"></td><td><img src="solid.png" width='+Math.floor(scalef*21)+' height='+Math.floor(scalef*8)+'  style="display:block"></td></tr></table></td></tr></table></td></tr>')
*/
documentwrite('<tr><td ><img src="empty.png" width='+Math.floor(scalef*230)+'  height='+Math.floor(scalef*2)+' style="display:block"></td></tr>')
// documentwrite('<tr><td  style="text-align:center; "><img src="empty.png" width='+Math.floor(scalef*230)+'  height='+Math.floor(scalef*3)+' style="display:block"></td></tr>')
documentwrite('<tr style="display:none"><td  style="text-align:center; font-weight:bold; height:'+Math.floor(scalef*15)+'px;font-size:'+Math.floor(scalef*10)+'px"><table cellspacing=0 cellpadding=0 align=center border=0 width='+Math.floor(scalef*230)+'><tr><td width='+Math.floor(scalef*30)+' align=left><input type="text" value="" id="currentplayer" style="border-radius:'+Math.floor(scalef*5)+'px;background-color:lemonchiffon;color:black; border-color:silver; border-style:inset; border-width:3px;text-align:center;font-size:'+Math.floor(scalef*13)+'px; font-weight:bold;width:'+Math.floor(scalef*25)+'px" readonly=readonly></td><td ><img src="empty.png" width='+Math.floor(scalef*5)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td align=center><input align=center type="text" value="" id="inthedarktext" placeholder="In The Dark" style="color:black;border-radius:'+Math.floor(scalef*5)+'px;background-color:#FFAAAA;border-color:silver; border-style:inset; border-width:3px;text-align:center;font-size:'+Math.floor(scalef*13)+'px; font-weight:bold;width:90%" onchange="saveinthedarktext()" readonly></td><td ><img src="empty.png" width='+Math.floor(scalef*5)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td width='+Math.floor(scalef*30)+' align=right><input type="text" value="" id="linkedwords" style="border-radius:'+Math.floor(scalef*5)+'px;background-color:lemonchiffon;color:black; border-color:silver; border-style:inset; border-width:3px;text-align:center;font-size:'+Math.floor(scalef*13)+'px; font-weight:bold;width:'+Math.floor(scalef*25)+'px" readonly=readonly></td></tr></table></td></tr>')
documentwrite('<tr><td ><img src="empty.png" width='+Math.floor(scalef*230)+'  height='+Math.floor(scalef*2)+' style="display:block"></td></tr>')
documentwrite('<tr><td  style="text-align:center; background-color:white;height:'+Math.floor(scalef*40)+'px;font-size:'+Math.floor(scalef*11)+'px"><table border=1 width=100% height=100% cellspacing=0 cellpadding=0 align=center valign=middle bgcolor="beige"><tr><td id="workpad" style="font-size:'+Math.floor(scalef*11)+'px;text-align:center"></td></tr></table></td></tr>')


documentwrite('<tr><td ><img src="empty.png" width='+Math.floor(scalef*230)+'  height='+Math.floor(scalef*2)+' style="display:block"></td></tr>')
/*
documentwrite('<tr><td style="text-align:center; " >')
documentwrite('<table border=0 cellpadding=0 cellspacing='+Math.floor(scalef*2)+' width=100% bgcolor="yellow"><tr>')
for (var i=0; i<8; i++)
{
documentwrite('<td width=* align=center><div style="background-color:yellow; font-weight:bold;font-size:'+Math.floor(scalef*12)+'px;text-align:center" width=100%>&nbsp;</div></td>')
}
documentwrite('</tr></table>')

documentwrite('</td></tr>')
*/
documentwrite('<tr><td style="text-align:center; " id="scoresbuttons"></td></tr>')


documentwrite('</table>')
documentwrite('<div style="width:100%" id="currentadtext"> </div>')

// documentwrite('<div style="width:100%" id="spy">Spy</div>')

documentwrite('</center>')
documentwrite('</div>')

documentwrite('<div id="output" style="display:none;width:100%">')

documentwrite('</div>')


}





// End main app code

</script>
<script language="Javascript">





var resetadbreakcounter=9
var adbreakcounter





function openwebpage(someurl)
{
document.location.href=someurl
}

var displayadnum=0
var displayhelptexts=
[
'<table width=100% border=0 bgcolor=cyan  onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*9)+'px"><b>Help</b> gives help; <b>New</b> starts a new game</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan  onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*9)+'px">All players know the <b>Key Word</b> except the player who is <b>In The Dark</b>.<br>Players give "clues" to the <b>Key Word</b>.</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan  onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*9)+'px">Those who are <b>In The Know</b> must try to identify the player who is <b>In The Dark</b>.<br>1 pt if right, -1pt if wrong.</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan  onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*9)+'px">-1 pt for any player wrongly identified.<br>2 pts if the <b>In The Dark</b> player identifies the <b>Key Word</b>.</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan  onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*9)+'px"><span style="font-weight:bold">TopAccolades</span><br>Apps and web services</td></tr></table>',
'<table width=100% border=0 bgcolor="lightblue" onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b> i.compactfun.com</b><br>This app and other apps are also accessible online from many devices at i.compactfun.com</td></tr></table>'

]

var displayadtexts=displayhelptexts

var displayupgradetexts=
[
]


var displayapptexts=
[

'<table width=100% border=0 bgcolor=cyan onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="linxemicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Linxem - Try the app now</b><br>A game for 2-4 players. 30 words displayed. Setter selects 2-8 words and gives a connecting word. Solver must identify selected words from this.</td></tr></table>',
/*
'<table width=100% border=0 bgcolor="#FF8888" onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="inthedarkicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>In The Dark - Try the app now</b><br>Words shown. One is the Key Word, shown to all except In The Dark player. Players must give clue and try to identify who\'s In The Dark.</td></tr></table>',
*/
'<table width=100% border=0 bgcolor=beige onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="pentadicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Pentad - Dowload the app now</b><br>Includes Word Pentad (make words from letters) and Poker Pentad (make poker hands), both on a 5x5 board!</td></tr></table>',
'<table width=100% border=0 bgcolor=limegreen onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="xword4x4icon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Xword<sup>4x4</sup> - Dowload the app now</b><br>Great Play & Pass crossword puzzle for up to 4 players. Define your own board layouts!</td></tr></table>',
'<table width=100% border=0 bgcolor="#FF8888" onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="csisherlock144.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Who Killed Vic? -  Dowload the app now!</b><br>Vic has been killed.  Try to solve who killed Vic, with what, and where, in this great interactive logic puzzle.</td></tr></table>',
'<table width=100% border=0 bgcolor=limegreen onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="rummyicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Rummy 7 -  Dowload the app now!</b><br>Play 7-card Rummy against the system or another player.  Full animation.</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="kublitzcubeicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Kublitz Cube -  Download the app now!</b><br>Separated cubelets let you see/know all sides without turning the puzzle cube.  Guide, tools & notation to help you solve it</td></tr></table>',
'<table width=100% border=0 bgcolor=limegreen onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="pegsolitaireicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Peg Solitaire -  Download the app now!</b><br>Play the full puzzle or a cut-down version.  Guide and notation to help you solve and remember the full puzzle</td></tr></table>',
'<table width=100% border=0 bgcolor=lightsteelblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="numberskullicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Numberskull -  Dowload the app now!</b><br>Puzzle to solve 6 equations, results given across and down, using 9 numbers and operators. Can you do it?</td></tr></table>',
'<table width=100% border=0 bgcolor=cyan onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="flagaloticon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Flagalot -  Download the app now!</b><br>A memory game and flag quiz in one app. Identify which flag also appeared on the previous page, or try the flag quiz.</td></tr></table>',
'<table width=100% border=0 bgcolor=limegreen onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="wordladdericon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Word Ladder -  Download the app now!</b><br>Move fromm one 4-letter word to another, a letter at a time, e.g. SUNK, BUNK, BANK, BASK, BASH, MASH.</td></tr></table>',
'<table width=100% border=0 bgcolor=lightsteelblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*40)+'"><img src="numbersgameicon.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Numbers Game -  Download the app now!</b><br>Given 6 numbers, try to derive the target using the four common arithmetic operators. With solution feature.</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Download the app now!</b><br>31 classic/original games and puzzles in one app: words, numbers, logic, blocks, strategy...</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Download the app now!</b><br>Includes Rummy, 4-in-a-line, Pentad, Letters & Numbers Games, Turncoat and Yak</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Download the app now!</b><br>Includes Hangman, WordSearch, Pentad, Linkword Snap and Word Ladder</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Download the app now!</b><br>Includes Step Challenge, Pyramid Numbers, Sudoku and Numberskull </td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Download the app now!</b><br>Includes Sudoku, Memory Pairs, Master Code, Mystery Clues and Bidinca </td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="compactfuniconlarge.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Compact Fun -  Download the app now!</b><br>Includes Peg Solitaire, Towers of Hanoi, Poker Pentad, Mancala and Code 4x6 </td></tr></table>',
'<table width=100% border=0 bgcolor=cyan onClick="openwebpage(\'http://i.compactfun.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="bbflogo.png" align=center valign=middle  width="'+Math.floor(scalef*36)+'"  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>BrainBoxFun -  Download the app now!</b><br>10 brain-training exercises inc.: memory, verbal comprehension, pattern recognition, word power and mental arithmetic</td></tr></table>'


]

var displaywmltexts=
[
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.woweeday.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="woweedayicon.png" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Woweeday<span style="color:silver">.com</span></b><br>Dedicate one of our many personal home pages to someone you love for a Birthday, Anniversary, Valentine\'s, Mother\'s Day or Father\'s Day.</td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.woweeday.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="woweedayicon.png" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Woweeday<span style="color:silver">.com</span></b><br>Our personal web site addresses all take the form:<br><b><span style="color:#FF0000"><i></i>Defined by you</span>.<span style="color:green">in-the.world</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.woweeday.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="woweedayicon.png" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Woweeday<span style="color:silver">.com</span></b><br>Examples: <b><span style="color:#FF0000">best-wife</span>.<span style="color:green">in-the.world</span><br><span style="color:#FF0000">jan-sexiest</span>.<span style="color:green">in-the.world</span><br><span style="color:#FF0000">gary-top-guy</span>.<span style="color:green">in-the.world</span>, <span style="color:#FF0000">greatest</span>.<span style="color:green">in-the.world</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.woweeday.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="woweedayicon.png" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Woweeday<span style="color:silver">.com</span></b><br>More examples: <b><span style="color:#FF0000">best-mom</span>.<span style="color:green">in-the.world</span><br><span style="color:#FF0000">best-dad</span>.<span style="color:green">in-the.world</span><br><span style="color:#FF0000">sam-sexiest</span>.<span style="color:green">in-the.world</span></b></td></tr></table>',
'<table width=100% border=0 bgcolor="#FFCCCC" onClick="openwebpage(\'http://www.woweeday.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="woweedayicon.png" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Woweeday<span style="color:silver">.com</span></b><br><span style="color:purple"><b>Wowee! Imagine your loved one\'s thrill at seeing such a home page dedicated to them.</b></span></td></tr></table>'
]

var displayllatexts=
[
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://www.letterlookalikes.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="A_1_colour.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px"><b>Letter Lookalikes</b><br>Photos resembling letters, numbers and symbols</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://www.letterlookalikes.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="E_1_colour.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px">Frames for names and wishes for birthdays, anniversaries, Valentine\'s Day, Mother\'s Day, etc.</td></tr></table>',
'<table width=100% border=0 bgcolor=lightblue onClick="openwebpage(\'http://www.letterlookalikes.com/\')"><tr><td align=center valign=middle  width="'+Math.floor(scalef*36)+'"><img src="H_5_colour.jpg" align=center valign=middle  height="'+Math.floor(scalef*36)+'"></td><td style="text-align:center;font-size:'+Math.floor(scalef*8)+'px">Pictures that say 1000s of words<br><b>www.letterlookalikes.com</b></td></tr></table>'
]


if (adsrequired==1)
{
displayadtexts=
displayhelptexts.concat(displayupgradetexts).concat(displaywmltexts).concat(displayapptexts)
}
else
{
displayadtexts=displayhelptexts
}




function showcountdownad()
{
changetextvalue('countdownadtext', currentadtext())

}


function showcurrentad()
{

if (displayadtexts.length>0)
{
changetextvalue('currentadtext', currentadtext())
}
}

function increaseadnum()
{
displayadnum++
if (displayadnum>=displayadtexts.length) {displayadnum=0}
}

function currentadtext()
{
var sometext='<div style="width:100%;height:'+Math.floor(scalef*3)+'px"></div><table width=100% border=0 align=center bgcolor=silver><tr><td align=center>'+displayadtexts[displayadnum]+'</td></tr></table>'
increaseadnum()
return sometext
}

</script>
<script language="Javascript">



function mydecision(somemessage, someok, somecancel)
{

document.getElementById('theboard').style.display='none'
changetextvalue('output', '<br><table width=95% height='+Math.floor(scalef*100)+' border=0 cellpadding=0 cellspacing=0 align=center bgcolor=lemonchiffon style="'+dialogueborder+'"><tr><td align=center><table border=0 align=center><tr><td  height='+Math.floor(scalef*50)+' align=center valign=middle colspan=2><br>'+centralimage()+'</td></tr><tr><td  colspan=2 align=center height='+Math.floor(scalef*75)+' align=center valign=middle style="font-size:'+Math.floor(scalef*12)+'px;font-weight:bold">'+somemessage+'</td></tr><tr height='+Math.floor(scalef*3)+'><td colspan=2></td></tr><tr><td  onClick="'+somecancel+'" align=center>'+graphicfor('Cancel')+'</td><td onClick="'+someok+'" align=center><br>'+graphicfor('OK')+'<br></td></tr></table></td></tr></table>')
document.getElementById('output').style.display='inline'

}







function ith(someitem, somearray)
{
for (var i=0; i<somearray.length; i++)
{
if (someitem===somearray[i]) {return i}

}

}



function splitliston(someitem, somelist)
{
var someindex
for (var i=0; i<somelist.length; i++)
{
if (somelist[i]==someitem) 
{
someindex=i
break
}
}
var somebeg=somelist.slice(0, someindex)
var someend=somelist.slice(someindex+1)
return([somebeg, someend])
}


var preventbuttonactions=0


</script>

<script language="Javascript">

function runonload()
{
if (adsrequired==0)
{
runonloadproper()
}
else
{
document.getElementById('theboard').style.display='none'
preventbuttonactions=1
var somemessage='<span style="color:red;font-weight:bold">Trial Version</span><br><br>This is a free trial version of <b>In The Dark</b>. It is fully functional, but has fewer words and names available for display than in the full version ('+totalwordsthisversion+' compared to '+totaldifferentwords+').  This means that you will normally see more repetitions of display words than you would in the full version.<br><br>You may, of course, purchase the full version at any time to obtain the full set of words and names and, hence, more varied challenges.<br>'
somemessage=somemessage+'<br><br><table align=center border=0><tr><td onClick="continuerunonload()" width='+Math.floor(scalef*50)+'>'+graphicfor('OK')+'</td></tr></table><br>'

changetextvalue('output',  '<br><table width=100% height='+Math.floor(scalef*100)+' border=1 cellpadding=0 cellspacing=0  align=center bgcolor=lemonchiffon><tr><td><table width=100% border=0><tr><td height='+Math.floor(scalef*50)+' align=center valign=middle><br>'+centralimage()+'</td></tr><table></td></tr><tr><td  height='+Math.floor(scalef*75)+' align=center valign=middle>'+somemessage+'</td></tr><tr height='+Math.floor(scalef*3)+'><td></td></tr></table>')

document.getElementById('output').style.display='inline'


}

}

function continuerunonload()
{
preventbuttonactions=0
runonloadproper()
}

function runonloadproper()
{
// first deal with remoteads
eval(GetLocalVal('remoteads'))
if (GetLocalVal('inthedarkstatus')==null) // first use
{
SetLocalVal('inthedarkstatus', [0, 0, -1, -1])

document.getElementById('theboard').style.display='none'

var someadvicetext=''
if (localstorageworks==0) {someadvicetext='<span style="color:red">Certain storage functionality is not available. The application will still work, but the state will not be saved when you exit, so next time you\'ll need to start again.<br></span>'}
var somemessage='<b>Welcome to In The Dark from TopAccolades</b><br>It is a Pass and Play word game for 3-8 people (4-6 ideally).<br><br><b>Key buttons</b><table width=95% border=0 align=center bgcolor="#8888FF"><tr><td valign=top style="font-weight:bold;text-align:left">New</td><td valign=top>Start a new game</td></tr><tr><td valign=top style="font-weight:bold;text-align:left">Help</td><td valign=top>Get general help during play</td></tr></table><br>'+someadvicetext+'Tap <b>New</b> button above now to begin.'
changetextvalue('output',  '<br><table width=100% height='+Math.floor(scalef*100)+' border=1 cellpadding=0 cellspacing=0  align=center bgcolor=lemonchiffon><tr><td><table width=100% border=0><tr><td height='+Math.floor(scalef*50)+' align=center valign=middle><br>'+centralimage()+'</td></tr><table></td></tr><tr><td  height='+Math.floor(scalef*75)+' align=center valign=middle>'+somemessage+'</td></tr><tr height='+Math.floor(scalef*3)+'><td></td></tr></table>')

document.getElementById('output').style.display='inline'
return
}
// above says always give welcome message to start a new game when first loaded
// otherwise continue game
if (GetLocalList('inthedarkstatus')[3]>-1)
{
restartgame()
}
else
{
selectthegame()
}
}


</script>

<script language="Javascript">


var showingads=0
var thecdimage='<table style="background-color:red" valign=middle align=center border=0 cellpadding=0 cellspacing=0><tr height='+Math.floor(scalef*10)+' valign=bottom><td valign=bottom><img width='+Math.floor(scalef*10)+'   name="cd1" src="selected.gif" valign=bottom style="display:block"></td><td align=center valign=bottom><img valign=bottom align=center width='+Math.floor(scalef*10)+'   name="cd0" src="selected.gif" style="display:block"></td><td valign=bottom><img width='+Math.floor(scalef*10)+'   name="cd7" src="selected.gif"  valign=bottom style="display:block"></td></tr><tr height='+Math.floor(scalef*10)+' valign=middle><td valign=middle><img width='+Math.floor(scalef*10)+'   name="cd2" src="selected.gif" valign=middle style="display:block"></td><td align=center><img  width='+Math.floor(scalef*36)+' src="rummyicon.png" border=0 style="display:block"></td><td valign=middle><img width='+Math.floor(scalef*10)+'   name="cd6" src="selected.gif" valign=middle style="display:block"></td></tr><tr height='+Math.floor(scalef*10)+' valign=middle><td><img width='+Math.floor(scalef*10)+'   name="cd3" src="selected.gif" valign=middle style="display:block"></td><td align=center valign=middle><img valign=middle align=center width='+Math.floor(scalef*10)+'   name="cd4" src="selected.gif" style="display:block"></td><td valign=middle><img width='+Math.floor(scalef*10)+'   name="cd5" src="selected.gif" valign=middle style="display:block"></td></tr></table>'







</script>

<script language="Javascript">
var suitimages=['red_front', 'blue_front', 'green_front', 'pink_front']
function titleimage(somename)
{
var sometext=''
var someindex=0
sometext=sometext+'<div style="position:relative;top:0px;left:0px"><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle bgcolor=black>'
/*
for (var i=0; i<2; i++)
{
someindex=i
sometext=sometext+'<tr>'
for (var j=0; j<10; j++)
{
sometext=sometext+'<td><img src="'+suitimages[someindex]+'.png" style="display:block" width='+Math.floor(scalef*10)+' height='+Math.floor(scalef*10)+'></td>'
someindex++
if (someindex==4) {someindex=0}
}
sometext=sometext+'</tr>'

}
*/
sometext=sometext+'<tr>'
for (var i=0; i<5; i++)
{
sometext=sometext+'<td><img src="inthedarklink.png" style="display:block" width='+Math.floor(scalef*20)+' height='+Math.floor(scalef*20)+'></td>'
}
sometext=sometext+'</tr>'

sometext=sometext+'</table><table border=0 width=100% height='+Math.floor(scalef*20)+' style="position:absolute;top:0px;left:0px"><tr><td style="text-align:center;font-size:'+Math.floor(scalef*12)+'px;color:#ff0000;font-weight:bold;" valign=middle>'+somename+'</td></tr></table></div>' 
return sometext
}

// this is for testing only: changes inthedarkwords diplayed and reloads
function changewords()
{
var somewords=shufflearray(shufflearray(inthedarkwords)).slice(0, numberwords)

SetLocalVal('setwords', convertlisttotext('text', shufflearray(somewords)))
SetLocalVal('solvewords', convertlisttotext('text', shufflearray(somewords)))


location.reload()
}

function centralimage()
{
var sometext=''
var someindex=0
sometext=sometext+'<table border=1 cellpadding=0 cellspacing=0><tr><td><table border=0 cellspacing=0 cellpadding=0 align=center valign=middle bgcolor=black>'
sometext=sometext+'<tr><td><img src="icon.png" width='+Math.floor(scalef*30)+'  height='+Math.floor(scalef*30)+' style="display:block"></td></tr>'


sometext=sometext+'</table></td></tr></table>' 
return sometext
}

// static
documentwrite('<div style="width:100%;height:'+Math.floor(scalef*360)+'px;background-color:#DDFFFF"><table border=0 align=center valign=top cellspacing=0 cellpadding=0 width='+Math.floor(scalef*230)+'>')
documentwrite('<tr height='+Math.floor(scalef*3)+'><td width='+Math.floor(scalef*50)+'><img src="empty.png" width='+Math.floor(scalef*50)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td colspan=3></td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'  height='+Math.floor(scalef*2)+' style="display:block"></td><td width='+Math.floor(scalef*50)+'><img src="empty.png" width='+Math.floor(scalef*50)+'  height='+Math.floor(scalef*2)+' style="display:block"></td></tr>')
documentwrite('<tr height='+Math.floor(scalef*20)+'><td width='+Math.floor(scalef*50)+' onClick="newgame()">'+graphicfor('New')+'</td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'></td><td colspan=3 style="text-align:center;font-weight:bold;color:red;font-size:'+Math.floor(scalef*14)+'px">'+titleimage('In The Dark')+'</td><td width='+Math.floor(scalef*10)+'><img src="empty.png" width='+Math.floor(scalef*10)+'></td><td width='+Math.floor(scalef*50)+' onClick="showhelp()">'+graphicfor('Help')+'</td></tr>')
documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px"><div style="height:'+(pushdown+Math.floor(scalef*3))+'px;width='+Math.floor(scalef*230)+'px"></div></td></tr>')
documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px"><div style="display:inline;width:100%" id="maingame">')


writethegame()

documentwrite('</div></td></tr>')
documentwrite('<tr ><td colspan=7 style="height:'+Math.floor(scalef*2)+'px;width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px"><div style="height:'+Math.floor(scalef*2)+'px;width='+Math.floor(scalef*230)+'px"></div></td></tr>')
// documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px" ><div style="display:inline;width:100%" id="output">&nbsp;</div></td></td></tr>')
documentwrite('<tr ><td colspan=7 style="width:'+Math.floor(scalef*230)+'px;text-align:left;color:black;font-size:'+Math.floor(scalef*10)+'px" ><div style="display:none;width:100%" id="help">')


</script>

<script language="Javascript">



</script>
<script language="Javascript">


var showinghelp=0


function showhelp()
{
if (showinghelp==1) {hidehelp();return}
// if (inthedarkstatus==0) {return}
if (showingads==1 || preventbuttonactions==1) {return}
showinghelp=1

document.getElementById('maingame').style.display='none'
document.getElementById('help').style.display='inline'
}

function hidehelp()
{

document.getElementById('maingame').style.display='inline'
document.getElementById('help').style.display='none'
showinghelp=0

}


</script>
<div id="helpback" style="display:inline">
<script language="Javascript">documentwrite('<table align=center border=0><tr><td onClick="hidehelp()" width='+Math.floor(scalef*50)+'>'+graphicfor('Back')+'</td></tr></table>')</script>
</div>

<div id="helpgeneral" style="display:inline">
<br><b>In The Dark</b> is a word game for 3-8 players, although 4-6 players are ideal, playing in Play and Pass mode, where all players use the same mobile device and hand it round to each other as required.
<br><br><span style="font-weight:bold">Overview</span>
<br>
<br>The game involves a series of <i>challenges</i>. 
<br>
<br>In a challenge, all players are shown a set of randomly selected <i>display words</i> (actually words or names). Generally, all these display words come from a particular category, which is also shown, although they may sometimes be taken randomly from all built-in categories.
<br>
<br>One of these display words is chosen, by the system, to be the <i>Key Word</i>, while one of the players is chosen to be <i>In The Dark</i>.  
<br>
<br>Each player takes the device to see whether they are <i>In The Dark</i>, in which case they don't see the <i>Key Word</i> highlighted, or <i>In The Know</i>, in which case they see the <i>Key Word</i> highlighted.
<br>
<br>The objectives in each challenge are for the <i>In The Know</i> players each to identify the player that is <i>In The Dark</i>, and for the <i>In The Dark</i> player to identify the <i>Key Word</i> from clues given.
<br>
<br>The players then take turns to give a clue to the other players about the <i>Key Word</i>. Note: each clue must be different from others already given in the challenge. For those who are <i>In The Know</i>, these clues need to be subtle, as the intention is to enable others who are <i>In The Know</i> to recognize that the clue-giver is also <i>In The Know</i>, while, at the same time, not being too obvious so that the <i>In The Dark</i> player can identify the <i>Key Word</i>. For the player that is <i>In The Dark</i>, giving a clue to a word they haven't been shown is clearly difficult. This is particularly true if the player who is <i>In The Dark</i> is the first to give the clue. If, however, others have already given some clues, these may give some pointers to the <i>In The Dark</i> player and enable them to give a plausible clue.
<br>
<br>Each player must then try to identify who the <i>In The Dark</i> player is. The player that is <i>In The Dark</i> must also go through this process, even though they know that any selection will be wrong, otherwise it would be obvious to the other players who is <i>In The Dark</i>. Any selection made by the player who is <i>In The Dark</i> is ignored.
<br>
<br>Players who are <i>In The Know</i> win a point for correctly identifying the player that is <i>In The Dark</i>, but lose a point for failing to do so. Players that are <i>In The Know</i> lose a point if they are identified by one of the other <i>In The Know</i> players as being <i>In The Dark</i>. This is to prevent clues being given that are deliberately misleading or are too difficult for fellow players to understand correctly.
<br>
<br>The player that is <i>In The Dark</i> is then given a chance to select the <i>Key Word</i>. If they do so correctly, they gain a bonus of two points.
<br>
<br>The player with the highest total number of points at the end of the game is the winner.

<br><br><span style="font-weight:bold">Clues</span>
<br><br>
A clue can be just about anything (but see <i>Invalid Clues</i> below), although typically it would be a single word or name that manages to convey to the other <i>In The Know</i> players that the clue-giver knows the <i>Key Word</i>, while not being an obvious pointer to the <i>Key Word</i> for the <i>In The Dark</i> player. Clues might be:
<ul>
<li>spoken words  
<li>sounds;
<li>written words;
<li>actions or mimes;
<li>drawings or sketches.
</ul>
Overall, as long as the clue is substantially different from others already given in the challenge and not invalid (see below), it is acceptable. Of course, whether other <i>In The Know</i> players in the challenge will understand the clue is a different matter. 
<br>
<br>Don't forget that the display word might have several meanings or references. Your clue can refer to any of these, not just the most obvious meaning or reference relevant to the category. Don't forget, also, that some display words have more than one pronunciation and that other written words might have the same pronunciation as the display word, and your clue can refer to these alternative pronunciations or words.  For example, given the display word "Bear", your clue might be "Naked" - referring to the word "Bare".
<br>
<br><i>Examples</i>
<br>
<br>Suppose that the display words are all names, and that the <i>Key Word</i> is "Washington". Giving a clue such as "George" would probably be too obvious, unless other names that could also be associated with "George" were also displayed. In contrast, giving his first occupation, "Surveyor", might expect too much knowledge of fellow players, and end up with the clue-giver being incorrectly identified as being <i>In The Dark</i>. A clue such as "Dollar", "Buck" or "Quarter" might be suitable, as the President's face appears on these, but these might also be too obvious for American players. A more subtle clue might be "Vineyard", as the other <i>In The Know</i> players would probably make the link between "Washington" and "Vineyard" via "Martha's Vineyard", Martha being his wife. Likewise, a clue such as "Superman Comics" might be subtle enough for <i>In The Know</i> players to think of "DC Comics", and hence "D.C." for "Washington", while such a clue would probably be good enough to prevent the <i>In The Dark</i> player from guessing "Washington", given that there are many other names also being displayed.
<br>
<br>For British players given the <i>Key Word</i> "Thatcher", a less obvious clue might be "Gold", as there is a cider called "Thatcher's Gold". A more subtle one might be "Away in a manger", since this would probably make others think of "Carol", and Margaret Thatcher had a daughter called Carol.
<br>
<br>Choosing a 'clue' for the <i>In The Dark</i> player is, of course, not easy. Unless given some idea of the <i>Key Word</i> by other players, the <i>In The Dark</i> player might look at all the words displayed and choose a 'clue' that might apply to several, in the hope that the <i>Key Word</i> is one of these. However, making the 'clue' too generic is probably a giveaway that the player is <i>In The Dark</i>. So, for example, if the category were "Animals", then a 'clue' such as "Breathe" would be too generic, but a 'clue' such as "Claws" might be appropriate if there were several clawed mammals, reptiles or birds. Throwing out a surprising 'clue', such as a celebrity name, might just cause the <i>In The Know</i> players to wonder whether the celebrity has some association with the <i>Key Word</i> animal that they are not aware of.
<br>
<br>Overall, clues can be very different across countries and highly dependent on the perceived knowledge of other players. Their suitability also depends on the other words being displayed.
<br>
<br><i>Invalid Clues</i> 
<br>
<br>Clues that refer to the positioning on the board are not allowed.
<br><br>
<span style="font-weight:bold">Points won and lost</span>
<br>
<br>Points in the challenge are awarded as follows:

<ul>
<li>1 point for correct identification of the <i>In The Dark</i> player by an <i>In The Know</i> player;
<li>-1 point for incorrect identification of the <i>In The Dark</i> player by an <i>In The Know</i> player;
<li>-1 point for any <i>In The Know</i> player that is identified as the <i>In The Dark</i> player by one or more other <i>In The Know</i> players;
<li>2 points for the <i>In The Dark</i> player when correctly identifying the <i>Key Word</i>.
</ul>
Note: the mock selection made by the <i>In The Dark</i> player is ignored.

<br><br><span style="font-weight:bold">Playing the game</span>
<br>
<br>A game is started by tapping the <i>New</i> button. You then have to select the number of players in the game.
<br>
<br>
The next screen shows, near the top, the initials of the players, as currently defined.  These are used to refer to the players throughout the game (initially set to PA, PB, PC through to PH). The order should correspond to the arrangement of the players wherever you are playing, enabling play to move on in the usual clockwise direction. You may choose to change the initials used by tapping the <i>Change</i> button.  Note: in the unlikely event that there are duplicates in the initials, the only option on this screen is to change the initials.
<br>
<br>
Once the initials have been set correctly, you must select the number of rounds to be played. The total number of challenges is number of players X number of rounds.
<br>
<br>The system determines which of the players is to be the lead player for the first challenge of the game. After that, the lead player changes by one position clockwise each challenge.
<br><br><span style="font-weight:bold">Playing a challenge</span>
<br>
<br>
The system chooses the category of words to be displayed, the set of display words, which of these is the <i>Key Word</i> and which player is to be <i>In The Dark</i> for the challenge. The lead player for the challenge should take the device and tap <i>OK</i> to reveal the main screen.
<br>
<br>
The main screen displays the display words, each on a green background, underneath the category.  Note: if the category is shown as "Any", this indicates that the display words have been selected randomly from the various categories. All the players should look at the device to gain an overview of the display words and category.
<br><br>
<i>Key Word</i> 
<br><br>
The lead player for the challenge should tap <i>OK</i> to begin the process concerned with the <i>Key Word</i>. Each player, in turn, clockwise, should take the device and tap <i>OK</i> to reveal whether they are <i>In The Know</i>, in which case they see the <i>Key Word</i> highlighted, or <i>In The Dark</i>, in which case they see no word highlighted.
<br><br>
Once this process is complete, the lead player should take the device and tap the <i>OK</i> button to begin the clue-giving phase. 
<br><br>
<i>Clue Time</i> 
<br><br>
During this phase, the device display remains unaltered. Starting with the lead player for the challenge, each player gives their clue and passes the device onto the next player. After all clues have been given, the players may also discuss the clues and ask each other questions about them. Nobody should feel obliged to answer these questions, but players may choose to do so, but should be careful about giving more away tp the <i>In The Dark</i> player.
<br><br>
<i>Select the In The Dark player</i> 
<br><br>
After the clues have all been given and any discussion has been completed, the lead player for the challenge should tap <i>OK</i> to begin the process concerned with selecting the <i>In The Dark</i> player. Each player, in turn, clockwise, should take the device and tap <i>OK</i> to see all the other players' initials on the screen. They must select and highlight one of these as the <i>In The Dark</i> player, then tap <i>OK</i>. Their own name has a silver background and cannot be selected. They should then pass the device on to the next player. Note: The <i>In The Dark</i> player still needs to select another player, even though this will be ignored, but it is important for the player to go through the motions. Afterwards, the true <i>In The Dark</i> player is revealed, and the selections made are listed. Note: The selection made by the <i>In The Dark</i> player is not shown. 
<br><br>
<i>Identify the Key Word</i> 
<br><br>
The player who is <i>In The Dark</i> now takes the device and selects one of the display words as the <i>Key Word</i>. This is highlighted. Upon tapping <i>OK</i>, the true <i>Key Word</i> is revealed highlighted. If the selection made by the <i>In The Dark</i> player is incorrect, this is shown highlighted with a red background. 
<br><br>
<i>Score for the challenge and overall</i> 
<br><br>
After tapping <i>OK</i>, the scores for the challenge are displayed. At this point, you may also choose to see the overall scores for the game by tapping the <i>Scores</i> button. This can also be tapped whenever it is displayed.
<br><br>

Once the scoring has been given, tapping <i>OK</i> again starts a new challenge. If the last challenge has already been played, a message is given to this effect.
<br>
<br>
<span style="font-weight:bold">Starting a new game</span>
<br>
<br>
The <i>New</i> button may be tapped at any time to start a new game.  If a game is already underway and not over, you will be asked to confirm that you wish to start a new game.
<br>
<br>
<span style="font-weight:bold">Continuing a game</span>
<br>
<br>
If you exit the app once a game is underway, the game state is stored.  The game continues when you open the app again, generally with a message about the current stage of the game and who should take the device.
<br>
<br>
<span style="font-weight:bold">Sample/Practice</span>
<br>
<br>
When you are prompted for the number of players after pressing <i>New</i>, there is also a <i>Sample</i> button. This allows you to see sample sets of display words, each with one word highlighted. This enables you to practise creating clues, as if in a game. If you have a friend to try out your clue, tap <i>OK</i> to remove the highlight, and see what they make of it. At any point, tap <i>Sample</i> again for further sets of words.
<br>
<br>

<p><span style="font-weight: bold">About In The Dark</span>

<p><b>In The Dark</b> has been designed and developed by Dr David Wolstenholme.
<p><span style="font-weight: bold">Terms of use</span><p>This software may be used for personal purposes only.  It may not be used for commercial purposes.</p> 
<p>The software, code and script of this application may not be copied or be distributed to others.</p> 
<p>The software, code and script may not be altered in any way.</p> 
<p >Copyright of the software, code and script, and its help documentation, is owned by TopAccolades Limited. No part of the software, code, script or documentation may be copied or used in another application or document.</p> 
<p >Although every effort has been made to ensure that this software functions as intended, TopAccolades Limited provides no warranty of merchantability, or fitness for a particular purpose, in relation to this application or its support.</p> 
<p >TopAccolades Limited shall not be liable for any damages whatsoever arising out of the use of or inability to use this application or the provision of or failure to provide support.</p> 
<p style="font-style: italic;">Copyright TopAccolades Limited<br>www.topaccolades.com</p>
<p><br>Version <script language="Javascript">documentwrite(appversion)</script><br>
Scale <script language="Javascript">documentwrite(scalef)</script>
<div id="wordsinversion"></div><br>






</div>

<script language="Javascript">

documentwrite('</div></td></tr></table></div>')

var remoteads=[]

if (GetLocalVal('remoteads')==null)
{
// default remoteads
SetLocalVal('remoteads', 'remoteads=[]')
}

if (GetLocalVal('lastremoteadstime')==null) {SetLocalVal('lastremoteadstime', 0)}

// if (Date.now()-(1*GetLocalVal('lastremoteadstime'))>0)
// If it's more than 5 days since last remote ad update, then we download it.
// However, if there's no internet access, then this loading can hang the app up.  So, we set the last time of download to be 4 days ago
// then try to reload.  If it fails and hangs up, we're showing a Reload button, which will reload the page, this time without needing to upload the remote ad (now < 4 days ago)
// However, if we have no local storage, this won't work, as it would just end up at the reload button again.  In this case, we essentially do nothing, inc. no remote ad upload (safer), and go to auto runonload

</script>
<script language="Javascript">
/*
// Now decided not to use remote ads.
if (Date.now()-(1*GetLocalVal('lastremoteadstime'))>(5*24*60*60*1000)) // if more than 5 days
{
if (localstorageworks==1)
{
document.getElementById('theboard').style.display='none'
changetextvalue('output',  '<br><br><table width=80% height='+Math.floor(scalef*100)+' border=1 cellpadding=0 cellspacing=0  align=center bgcolor=white><tr><td><table width=100% border=0><tr><td  bgcolor=lemonchiffon height='+Math.floor(scalef*75)+' align=center valign=middle>Internet access is required for certain updates, which is currently not available.  Please tap the Reload button and a further attempt will be made after 24 hours.</td></tr><tr height='+Math.floor(scalef*3)+'><td></td></tr><tr><td><table border=0 align=center><tr><td onClick="location.reload()">'+graphicfor('Reload')+'</td></tr></table></td></tr></table></td></tr></table>')

SetLocalVal('lastremoteadstime', Date.now()-(4*24*60*60*1000)) // in case of problems loading, ensures that it will work for next day, as lasttime now set to 4 days ago, so can reload and it should work fine
documentwrite('<sc'+'ript src="http://www.compactfun.com/remoteads/largeadsuntimed.js?time='+Date.now()+'"></sc'+'ript>')
// ?time=current time above helps to ensure that the javascript is reloaded and that a cached version is not used
}
}
*/
</script>
<script language="javascript">
// showcurrentad()

</script>

<script language="javascript">

var inthedarkwords=
[
["People",[
"Aaron",
"Abraham",
"Adam",
"Adams",
"Alexander",
"Alfred",
"Ali",
"Allen",
"Angelou",
"Anne",
"Archimedes",
"Aristotle",
"Armstrong",
"Arthur",
"Attila",
"Austen",
"Bach",
"Bacon",
"Baird",
"Bale",
"Banksy",
"Beckham",
"Beethoven",
"Bell",
"Berlusconi",
"Berry",
"Best",
"Beyonc",
"Bizet",
"Blair",
"Blake",
"Bogart",
"Boudicca",
"Bowie",
"Boycott",
"Bradman",
"Brady",
"Brando",
"Brezhnev",
"Bridges",
"Bront",
"Brown",
"Browning",
"Bruce",
"Brunel",
"Bryant",
"Buddha",
"Bullock",
"Burns",
"Burton",
"Bush",
"Byron",
"Cagney",
"Caine",
"Calderon",
"Callaghan",
"Cameron",
"Campbell",
"Capote",
"Carpenter",
"Carroll",
"Carson",
"Carter",
"Carver",
"Cash",
"Castro",
"Catherine",
"Chaplin",
"Charles",
"Chaucer",
"Cher",
"Chirac",
"Chopin",
"Christie",
"Churchill",
"Clark",
"Cleopatra",
"Clooney",
"Close",
"Cobain",
"Cohen",
"Cole",
"Collins",
"Compton",
"Connery",
"Constable",
"Cook",
"Cooper",
"Crawford",
"Cromwell",
"Crowe",
"Cruise",
"Cruz",
"Curie",
"Da Vinci",
"Daimler",
"Dali",
"Dante",
"Darwin",
"David",
"Davies",
"Davis",
"Day-Lewis",
"De Gaulle",
"De Niro",
"Dench",
"Denver",
"Depp",
"Diana",
"DiCaprio",
"Dickens",
"Dickinson",
"Diesel",
"DiMaggio",
"Douglas",
"Doyle",
"Drake",
"Duvall",
"Dylan",
"Dyson",
"Eastwood",
"Edison",
"Edward",
"Einstein",
"Eisenhower",
"Eleanor",
"Elizabeth",
"Eminem",
"English",
"Eve",
"Federer",
"Field",
"Finch",
"Firth",
"FitzGerald",
"Fleming",
"Fonda",
"Ford",
"Foster",
"Fowler",
"Fox",
"Francis",
"Franklin",
"Freeman",
"Gable",
"Galileo",
"Gandhi",
"Garbo",
"Garcia",
"Gaye",
"George",
"Gielgud",
"Gillard",
"Goldberg",
"Gorbachev",
"Grant",
"Guinness",
"Hamilton",
"Hammond",
"Hanks",
"Hardy",
"Harold",
"Harrison",
"Hawke",
"Hawking",
"Hayes",
"Hazard",
"Heath",
"Hemingway",
"Hendrix",
"Henry",
"Hepburn",
"Hitler",
"Hobbs",
"Hoffman",
"Hollande",
"Homer",
"Hooke",
"Hoover",
"Hopkins",
"Hubble",
"Hugo",
"Hunt",
"Hurst",
"Irons",
"Isaac",
"Jackson",
"Jacob",
"Jagger",
"James",
"Jane",
"Jesus",
"Joan",
"Job",
"John",
"Johnson",
"Jones",
"Jordan",
"Joseph",
"Joyce",
"Kardashian",
"Keating",
"Keaton",
"Kelly",
"Kennedy",
"Keys",
"Khan",
"King",
"Kohl",
"Kruschev",
"Laker",
"Lang",
"Lansbury",
"Laurel",
"Lawrence",
"Lee",
"Leigh",
"Lemmon",
"Lenin",
"Lennon",
"Lewis",
"Lichtenstein",
"Lloyd",
"Louis",
"Lovelace",
"Luck",
"Luke",
"Lynch",
"Macron",
"Madonna",
"Major",
"Mandela",
"Manning",
"Manson",
"Mao",
"Maradona",
"Mark",
"Marley",
"Martin",
"Marx",
"Mary",
"Matthew",
"Matthews",
"Maxwell",
"May",
"McCartney",
"McGrath",
"McKellen",
"Mercury",
"Merkel",
"Michelangelo",
"Miller",
"Mitchell",
"Mitterand",
"Monet",
"Monroe",
"Montgomery",
"Moore",
"Morrison",
"Moses",
"Mozart",
"Muhammad",
"Murray",
"Mussolini",
"Napoleon",
"Nehru",
"Nelson",
"Newman",
"Newton",
"Nicholson",
"Nightingale",
"Nixon",
"Noah",
"Nobel",
"Norman",
"Obama",
"Oldman",
"Olivier",
"Orwell",
"Osbourne",
"O'Toole",
"Pacino",
"Page",
"Palmer",
"Pankhurst",
"Parks",
"Parton",
"Pasteur",
"Patton",
"Paul",
"Peck",
"Pel",
"Penn",
"Pepys",
"Peter",
"Peterson",
"Pfeiffer",
"Philip",
"Picasso",
"Plato",
"Pocahontas",
"Poe",
"Poitier",
"Pollock",
"Pompidou",
"Ponting",
"Potter",
"Presley",
"Price",
"Prince",
"Putin",
"Raphael",
"Reagan",
"Rembrandt",
"Reynolds",
"Rice",
"Richard",
"Richards",
"Roberts",
"Rommel",
"Roosevelt",
"Root",
"Rosa",
"Rose",
"Rowling",
"Rudd",
"Rush",
"Ruth",
"Ryan",
"Sanders",
"Sarkozy",
"Schmidt",
"Scott",
"Sellers",
"Shakespeare",
"Shaw",
"Shelley",
"Sherman",
"Simon",
"Simpson",
"Sinatra",
"Singh",
"Smith",
"Socrates",
"Solomon",
"Spears",
"Springsteen",
"Stalin",
"Steinbeck",
"Stephen",
"Stephenson",
"Stevens",
"Stewart",
"Strauss",
"Streep",
"Swift",
"Taylor",
"Tchaikovsky",
"Telford",
"Teresa",
"Tesla",
"Thatcher",
"Thomas",
"Thompson",
"Thorpe",
"Tolkein",
"Tolstoy",
"Townshend",
"Tracy",
"Trudeau",
"Truman",
"Trump",
"Turing",
"Turnbull",
"Turner",
"Twain",
"Tyson",
"Van Gogh",
"Victor",
"Victoria",
"Virgil",
"Wagner",
"Warhol",
"Warne",
"Watson",
"Waters",
"Watt",
"Wayne",
"Weaver",
"Wellington",
"West",
"Wilde",
"William",
"Williams",
"Wilson",
"Winslet",
"Winters",
"Wolfe",
"Wonder",
"Woods",
"Wordsworth",
"Wright",
"Yeltsin",
"Young"
]],
["Objects",[
"Ball",
"Bat",
"Bin",
"Bowl",
"Broom",
"Brush",
"Can",
"Casserole",
"Comb",
"Cue",
"Cup",
"Dice",
"Drill",
"Dryer",
"File",
"Fork",
"Hairbrush",
"Hammer",
"Hoe",
"Iron",
"Kettle",
"Knife",
"Lawnmower",
"Level",
"Mixer",
"Nail",
"Needle",
"Pan",
"Pen",
"Pencil",
"Percolator",
"Pin",
"Plane",
"Pot",
"Pump",
"Racket",
"Razor",
"Saucer",
"Saw",
"Scissors",
"Screw",
"Screwdriver",
"Shears",
"Shovel",
"Skillet",
"Spade",
"Spoon",
"Square",
"Tack",
"Tape",
"Tyre/Tire",
"Toothbrush",
"Wheel",
"Wrench"
]],
["Animals",[
"Albatross",
"Alligator",
"Antelope",
"Baboon",
"Badger",
"Bass",
"Bear",
"Beaver",
"Beetle",
"Bison",
"Blackbird",
"Buffalo",
"Camel",
"Cat",
"Centipede",
"Cheetah",
"Chicken",
"Chimpanzee",
"Cockle",
"Cockroach",
"Cod",
"Cow",
"Crab",
"Crocodile",
"Crow",
"Deer",
"Dingo",
"Dinosaur",
"Dog",
"Dolphin",
"Donkey",
"Dove",
"Duck",
"Eagle",
"Elephant",
"Fly",
"Fox",
"Giraffe",
"Goat",
"Gorilla",
"Gull",
"Haddock",
"Hare",
"Hedgehog",
"Hippopotamus",
"Horse",
"Hyena",
"Jackal",
"Jaguar",
"Jay",
"Kangaroo",
"Lemur",
"Leopard",
"Lion",
"Lizard",
"Llama",
"Lobster",
"Louse",
"Magpie",
"Meerkat",
"Millipede",
"Mole",
"Monkey",
"Moose",
"Mosquito",
"Mouse",
"Octopus",
"Orang Utan",
"Otter",
"Oyster",
"Parakeet",
"Parrot",
"Pig",
"Pigeon",
"Plaice",
"Porpoise",
"Rabbit",
"Raccoon",
"Rat",
"Raven",
"Ray",
"Rhinoceros",
"Robin",
"Salmon",
"Scorpion",
"Shark",
"Sheep",
"Shrimp",
"Skunk",
"Slug",
"Snail",
"Snake",
"Sparrow",
"Squid",
"Thrush",
"Tick",
"Tiger",
"Tit",
"Trout",
"Vulture",
"Wallaby",
"Weasel",
"Whale",
"Winkle",
"Wolf",
"Worm",
"Zebra"
]],
["Plants/Fungi",[
"Ash",
"Barley",
"Basil",
"Bay",
"Beech",
"Begonia",
"Birch",
"Bluebell",
"Caraway",
"Carnation ",
"Catnip",
"Cedar",
"Cherry",
"Chestnut",
"Daisy",
"Dill",
"Fennel",
"Fir",
"Garlic",
"Geranium",
"Hawthorn",
"Hazel",
"Heather",
"Hickory",
"Holly",
"Hyacinth",
"Hydrangea",
"Iris",
"Jasmine",
"Lavender",
"Lichen",
"Lilac",
"Lily",
"Magnolia",
"Maize",
"Maple",
"Mint",
"Mo(u)ld",
"Moss",
"Mushroom",
"Narcissus",
"Oak",
"Oat",
"Onion",
"Orchid",
"Oregano",
"Parsley",
"Pine",
"Redwood",
"Rose",
"Sage",
"Spruce",
"Stock",
"Sunflower",
"Sycamore",
"Tarragon",
"Thyme",
"Toadstool",
"Tulip",
"Violet",
"Walnut",
"Wheat",
"Willow",
"Yeast"
]],
["Geographical Names",[
"Adriatic",
"Aegean",
"Alaska",
"Algeria",
"Amazon",
"America",
"Amsterdam",
"Andaman",
"Angkor Wat",
"Angola",
"Antarctica",
"Arabian",
"Argentina",
"Arizona",
"Atacama",
"Athens",
"Australia",
"Baikal",
"Bali",
"Baltic",
"Bangkok",
"Barcelona",
"Beijing",
"Berlin",
"Big Ben",
"Birmingham",
"Black Sea",
"Bora Bora",
"Borneo",
"Brazil",
"Britain",
"Burj Khalifa",
"Cairo",
"California",
"Cambridge",
"Canada",
"Cape Town",
"Capri",
"Caribbean",
"Caspian",
"Chicago",
"Chile",
"China",
"Christchurch",
"Chrysler",
"CN Tower",
"Colombia",
"Colorado",
"Colosseum",
"Como",
"Congo",
"Corsica",
"Crete",
"Cuba",
"Danube",
"Dead Sea",
"Dubai",
"Dublin",
"Edinburgh",
"Egypt",
"Eiffel",
"Empire State",
"England",
"Ethiopia",
"Etna",
"Euphrates",
"Everest",
"Flatiron",
"Florence",
"Florida",
"Forbidden City",
"France",
"Fuji",
"Galilee",
"Ganges",
"Germany",
"Ghana",
"Glasgow",
"Gobi",
"Great Pyramid",
"Greece",
"Hagia Sophia",
"Hawaii",
"Hong Kong",
"Houston",
"Hudson",
"Iceland",
"India",
"Indonesia",
"Indus",
"Iran",
"Iraq",
"Ireland",
"Irish Sea",
"Isle of Man",
"Israel",
"Istanbul",
"Italy",
"Jakarta",
"Japan",
"Java",
"Jersey",
"Jerusalem",
"Johannesburg",
"Jordan",
"K2",
"Kalahari",
"Kenya",
"Kilimanjaro",
"Koh Samui",
"Korea",
"Krakatoa",
"Kuala Lumpur",
"Lagos",
"Las Vegas",
"Lisbon",
"Liverpool",
"Loch Ness",
"London",
"Los Angeles",
"Lough Neagh",
"Madrid",
"Malawi",
"Mallorca",
"Manchester",
"Matterhorn",
"Mediterranean",
"Mekong",
"Melbourne",
"Mexico",
"Michigan",
"Mississippi",
"Missouri",
"Mojave",
"Mont Blanc",
"Morocco",
"Moscow",
"Mumbai",
"Munich",
"Nantucket",
"Netherlands",
"Nevis",
"New Delhi",
"New York",
"New Zealand",
"Niagara",
"Nice",
"Nigeria",
"Nile",
"North Sea",
"Norway",
"Notre-Dame",
"Ohio",
"Olympus",
"Ontario",
"Orinoco",
"Oxford",
"Pakistan",
"Pantheon",
"Paris",
"Parthenon",
"Perth",
"Peru",
"Pisa",
"Poland",
"Popocatpetl",
"Portugal",
"Red Sea",
"Rhine",
"Rio",
"Rio Grande",
"Rome",
"Russia",
"Santorini",
"Sargasso",
"Sahara",
"Scotland",
"Seine",
"Severn",
"Seychelles",
"Shanghai",
"Shard",
"Sicily",
"Sinai",
"Singapore",
"Snowdon",
"Sonora",
"South Africa",
"Spain",
"St Basil's",
"St Helens",
"St Paul's",
"St Peter's",
"Sudan",
"Superior",
"Sweden",
"Switzerland",
"Sydney",
"Syria",
"Tahiti",
"Taj Mahal",
"Tanganyika",
"Tasmania",
"Texas",
"Thailand",
"Thames",
"Tigris",
"Titicaca",
"Tokyo",
"Tunisia",
"Turkey",
"Uluru",
"Vancouver",
"Venice",
"Versailles",
"Vesuvius",
"Victoria",
"Vietnam",
"Virginia",
"Volga",
"Wales",
"Washington",
"White House",
"Windsor",
"Yangtze",
"Yellow River",
"Yukon",
"Zambezi",
"Zimbabwe"
]],
["Activities",[
"Badminton",
"Baseball",
"Basketball",
"Birdwatching",
"Bowling",
"Boxing",
"Bridge",
"Canoeing",
"Car Racing",
"Cards",
"Caving",
"Chess",
"Climbing",
"Cricket",
"Cycling",
"Diving",
"Drinking",
"Driving",
"Eating",
"Football",
"Gambling",
"Gaming",
"Golf",
"Gymnastics",
"High Jump",
"Hockey",
"Horse Racing",
"Hurling",
"Judo",
"Karate",
"Kayaking",
"Knitting",
"Lacrosse",
"Long Jump",
"Ping Pong",
"Poker",
"Pole Vault",
"Polo",
"Pool",
"Reading",
"Riding",
"Rugby",
"Running",
"Sewing",
"Show Jumping",
"Skiing",
"Snooker",
"Squash",
"Surfing",
"Swimming",
"Taekwondo",
"Tennis",
"Volleyball",
"Walking",
"Weightlifting",
"Whist",
"Wrestling",
"Yachting",
"Yoga",
"Zumba"
]],
["Materials",[
"Alumin(i)um",
"Bronze",
"Calcium",
"Carbon",
"Chromium",
"Concrete",
"Copper",
"Cotton",
"Diamond",
"Glass",
"Gold",
"Helium",
"Hydrogen",
"Iron",
"Lead",
"Leather",
"Linen",
"Mercury",
"Nitrogen",
"Nylon",
"Oxygen",
"Pewter",
"Plastic",
"Platinum",
"Polyester",
"Potassium",
"Ruby",
"Sapphire",
"Silk",
"Silver",
"Sodium",
"Steel",
"Timber",
"Tin",
"Titanium",
"Tungsten",
"Uranium",
"Wood",
"Wool",
"Zinc"
]],
["Academic Disciplines",[
"Algebra",
"Anatomy",
"Arabic",
"Archaeology",
"Architecture",
"Arithmetic",
"Arts",
"Biochemistry",
"Biology",
"Botany",
"Chemistry",
"Classics",
"Computing",
"Dentistry",
"Economics",
"Electronics",
"Engineering",
"English",
"Finance",
"French",
"Genetics",
"Geometry",
"German",
"Hydraulics",
"Journalism",
"Literature",
"Mandarin",
"Mathematics",
"Mechanics",
"Media",
"Medicine",
"Orthodontics",
"Orthopaedics",
"Painting",
"Pharmacy",
"Physics",
"Poetry",
"Politics",
"Portuguese",
"Science",
"Sculpture",
"Social Sciences",
"Spanish",
"Writing",
"Zoology"
]],
["Jobs/Professions",[
"Archaeologist",
"Architect",
"Artist",
"Author",
"Baker",
"Banker",
"Botanist",
"Brewer",
"Builder",
"Bus Driver",
"Butcher",
"Carpenter",
"Chauffeur",
"Clinician",
"Conductor",
"Cook",
"Dentist",
"Designer",
"Director",
"Diver",
"Doctor",
"Economist",
"Electrician",
"Engineer",
"Farmer",
"Financier",
"Fire Officer",
"Fisherman",
"Geologist",
"Imam",
"Janitor",
"Joiner",
"Lawyer",
"Marine",
"Mathematician",
"Miner",
"Nurse",
"Paratrooper",
"Pharmacist",
"Pilot",
"Plumber",
"Poet",
"Police Officer",
"Politician",
"Potter",
"President",
"Priest",
"Programmer",
"Psychiatrist",
"Psychologist",
"Retailer",
"Sailor",
"Salesperson",
"Scientist",
"Sculptor",
"Secretary",
"Shipwright",
"Soldier",
"Spy",
"Stockbroker",
"Surgeon",
"Tailor",
"Taxi Driver",
"Thatcher",
"Therapist",
"Tiler",
"Train Driver",
"Waiter",
"Zoologist"
]],
["Culture",[
"1984",
"Adventures",
"African",
"Aladdin",
"Alice",
"Amadeus",
"American",
"Angry",
"Annie",
"Apartment",
"Apocalypse",
"Arabia",
"Ark",
"Avengers",
"Bad",
"Ben-Hur",
"BFG",
"Bible",
"Big Bang",
"Black Beauty",
"Blair",
"Bleak",
"Bond",
"Bonnie",
"Boulevard",
"Bounty",
"Brave",
"Braveheart",
"Bridget Jones",
"Brighton",
"Caesar",
"Canterbury",
"Carol",
"Carousel",
"Casablanca",
"Casino",
"Catch-22",
"Catcher",
"Celebrity",
"Charlie",
"Cheers",
"Children",
"Christmas",
"Cinderella",
"City",
"Claudius",
"Cleopatra",
"Clockwork",
"Cold",
"Columbo",
"Connection",
"Copperfield",
"Countdown",
"Courage",
"Cowboy",
"Crime",
"Crusade",
"Crusoe",
"Dad",
"Dalek",
"Dance",
"Dark",
"Darkness",
"Deer",
"Desire",
"Diamonds",
"Doctor",
"Doctor Who",
"Doom",
"Dr Watson",
"Dracula",
"Dream",
"Dune",
"E.T.",
"Emma",
"Encounters",
"Endearment",
"Eternity",
"Exorcist",
"Fair",
"Falcon",
"Family",
"Farm",
"Fast",
"Fever",
"Fletcher",
"Flies",
"Forrest",
"Fortunes",
"Frankenstein",
"Frasier",
"Friends",
"Furious",
"Game",
"Garden",
"Gatsby",
"Gladiator",
"God",
"Godfather",
"Golden",
"Goodfellas",
"Graduate",
"Graffiti",
"Grapes",
"Gray",
"Grease",
"Green",
"Gulliver",
"Hall",
"Hamlet",
"Hannibal",
"Havana",
"Heights",
"Henry",
"Hobbit",
"Hood",
"Hot",
"Huckleberry",
"Hunter",
"Idol",
"Indemnity",
"Indiana Jones",
"Island",
"Jane Eyre",
"Jaws",
"Jude",
"Kidnapped",
"Kill",
"King Lear",
"Lady",
"Lambs",
"Lawrence",
"Lights",
"Little Women",
"Lolita",
"London",
"Lord",
"Love",
"Macbeth",
"Mandolin",
"Marple",
"MASH",
"Men",
"Mice",
"Midnight",
"Midsummer",
"Mile",
"Moby Dick",
"Mockingbird",
"Monte Cristo",
"Monty",
"Murder",
"Music",
"Mutiny",
"Network",
"Night",
"North",
"Odyssey",
"Oklahoma",
"Oliver Twist",
"Oz",
"Pacific",
"Paris",
"Patton",
"Persuasion",
"Philadelphia",
"Pianist",
"Pilgrim",
"Pillars",
"Platoon",
"Poirot",
"Potter",
"Pride",
"Prime",
"Psycho",
"Pulp",
"Punishment",
"Puss",
"Python",
"Queen",
"Quran",
"Raiders",
"Rain",
"Rainbow",
"Rebecca",
"Rebel",
"Richard",
"Rings",
"Road",
"Robin",
"Robinson",
"Rock",
"Rocky",
"Russia",
"Sense",
"Shades",
"Shane",
"Shawshank",
"Holmes",
"Side",
"Silence",
"Simpsons",
"Skull",
"Sleep",
"Snow White",
"Solomon",
"Sound",
"Space",
"Spartacus",
"Spider-Man",
"Stagecoach",
"Star",
"Stone",
"Story",
"Street",
"Sun",
"Sundance",
"Sunset",
"Tales",
"Taxi",
"Tell",
"Tempest",
"Temple",
"Third",
"Thirs",
"Three Bears",
"Thrones",
"Titanic",
"Todd",
"Tom Jones",
"Tramp",
"Treasure",
"Trek",
"Trotter",
"Twice",
"Twilight",
"Twin",
"Ugly",
"Ulysses",
"Venice",
"Verona",
"Vertigo",
"Vic",
"Vicar",
"War",
"Wars",
"Washington",
"Waterfront",
"Watership",
"Werewolf",
"West",
"White",
"Wild",
"William",
"Willows",
"Window",
"Winter",
"Witch",
"Wizard",
"Wolves",
"Woman",
"Worlds",
"X Factor",
"X-Men",
"Yankee",
"Zone"
]],
["Communications",[
"Billboard",
"Blog",
"Body Language",
"Book",
"CD",
"Cinema",
"Comic",
"DVD",
"Email",
"Fax",
"Film",
"Internet",
"Letter",
"Magazine",
"Morse Code",
"Music",
"Newspaper",
"Pamphlet",
"Phone",
"Photograph",
"Placard",
"Plane",
"Post",
"Radio",
"Road",
"Semaphore",
"Ship",
"Sign",
"Social Media",
"Software",
"Speak",
"Tape",
"Telegraph",
"Telex",
"Touch",
"Train",
"Television",
"Type",
"Vinyl",
"Whistle",
"Wireless"
]],
["Food and Drink",[
"Apple",
"Avocado",
"Banana",
"Barley",
"Bean",
"Beef",
"Beer",
"Brandy",
"Bread",
"Butter",
"Cabbage",
"Cereal",
"Cheese",
"Cherry",
"Chicken",
"Chocolate",
"Cider",
"Cod",
"Coffee",
"Cola",
"Corn",
"Crab",
"Cream",
"Cucumber",
"Duck",
"Egg",
"Flour",
"Garlic",
"Gin",
"Grapefruit",
"Haddock",
"Ice Cream",
"Juice",
"Kale",
"Lamb",
"Lettuce",
"Lobster",
"Milk",
"Oats",
"Onion",
"Orange",
"Oyster",
"Parsnip",
"Pasta",
"Pea",
"Pear",
"Pepper",
"Pie",
"Pineapple",
"Pollock",
"Pork",
"Port",
"Potato",
"Radish",
"Rhubarb",
"Rice",
"Rocket",
"Rum",
"Salmon",
"Salt",
"Sherry",
"Shrimp",
"Skate",
"Soda",
"Sprout",
"Stew",
"Sugar",
"Swede",
"Sweet Potato",
"Tart",
"Tea",
"Tofu",
"Turkey",
"Venison",
"Water",
"Whisk(e)y",
"Yogurt"
]],
["The Year",[
"Advent",
"Anniversary",
"April",
"Aquarius",
"Aries",
"August",
"Autumn",
"Birthday",
"Cancer",
"Capricorn",
"Christmas",
"December",
"Diwali",
"Dog",
"Dragon",
"Easter",
"Father's Day",
"February",
"Fireworks",
"Gemini",
"Goat",
"Halloween",
"Hanukkah",
"Harvest",
"Hogmanay",
"Horse",
"January",
"July",
"June",
"Lent",
"Leo",
"Libra",
"March",
"May",
"Monkey",
"Mother's Day",
"New Year",
"November",
"October",
"Ox",
"Pig",
"Pisces",
"Ramadan",
"Rabbit",
"Rat",
"Rooster",
"Sagittarius",
"Scorpio",
"September",
"Snake",
"Spring",
"Summer",
"Taurus",
"Thanksgiving",
"St. Andrew",
"St. David",
"St. George",
"St. Patrick",
"St. Valentine",
"Tiger",
"Virgo",
"Winter",
"Yom Kippur"
]],
["Rock Bands",[
"AC/DC",
"Aerosmith",
"Alice Cooper",
"Arctic Monkeys",
"Band",
"Beach Boys",
"Beatles",
"Black Sabbath",
"Blondie",
"Blur",
"Byrds",
"Clash",
"Coldplay",
"Doors",
"Eagles",
"Elbow",
"Fleetwood Mac",
"Florence",
"Foo Fighters",
"Guns N' Roses",
"Jam",
"Killers",
"Kings Of Leon",
"Led Zeppelin",
"Maroon 5",
"Muse",
"Nirvana",
"Oasis",
"Pink Floyd",
"Pulp",
"Queen",
"R.E.M.",
"Ramones",
"Rolling Stones",
"Santana",
"Sex Pistols",
"Smiths",
"U2",
"Van Halen",
"Who"
]],
["Beliefs/Believers",[
"Afterlife",
"Angel",
"Ark",
"Baptist",
"Brahma",
"Buddhist",
"Catholic",
"Creation",
"Demon",
"Fairy",
"Fall",
"Flood",
"Ganesh",
"God",
"Heathen",
"Heaven",
"Hell",
"Hindu",
"Jehovah",
"Jew",
"Karma",
"Leprechaun",
"Limbo",
"Lutheran",
"Methodist",
"Mormon",
"Moslem",
"Nirvana",
"Pagan",
"Predestination",
"Protestant",
"Purgatory",
"Quaker",
"Rebirth",
"Resurrection",
"Salvation",
"Santa",
"Satan",
"Shiva",
"Sikh",
"Soul",
"Spirit",
"Trinity",
"Virgin Birth",
"Witch",
"Witness"
]],
["Institutions/Buildings",[
"Airport",
"Bar",
"Caf",
"Cathedral",
"Cemetery",
"Chapel",
"Church",
"Cinema",
"Clinic",
"Club",
"College",
"Congress",
"Court",
"Factory",
"Fire Station",
"Foundry",
"Gallery",
"Hospital",
"Hotel",
"Kindergarten",
"Library",
"Mine",
"Morgue",
"Mosque",
"Museum",
"Office",
"Opera House",
"Palace",
"Parliament",
"Police Station",
"Port",
"Power Station",
"Prison",
"Pub",
"School",
"Senate",
"Store",
"Studio",
"Synagogue",
"Temple",
"Theatre",
"Train Station",
"University",
"Windmill",
"Zoo"
]],
["Transport",[
"Airship",
"Ambulance",
"Balloon",
"Bicycle",
"Boat",
"Bus",
"Canoe",
"Car",
"Cart",
"Catamaran",
"Coach",
"Cruise Liner",
"Ferry",
"Glider",
"Hang Glider",
"Helicopter",
"Hovercraft",
"Ice Skates",
"Jet Ski",
"Kayak",
"Motorbike",
"Plane",
"Rocket",
"Roller Blades",
"Scooter",
"Ship",
"Skateboard",
"Skis",
"Sleigh",
"Tanker",
"Taxi",
"Train",
"Tram",
"Truck",
"Van",
"Yacht"
]],
["Body",[
"Ankle",
"Arm",
"Artery",
"Back",
"Brain",
"Butt",
"Calf",
"Chest",
"Chin",
"Ear",
"Elbow",
"Eye",
"Finger",
"Foot",
"Hair",
"Hand",
"Head",
"Heart",
"Heel",
"Hip",
"Kidney",
"Knee",
"Liver",
"Lung",
"Mouth",
"Muscle",
"Neck",
"Nose",
"Palm",
"Shoulder",
"Skin",
"Sole",
"Stomach",
"Tail",
"Thigh",
"Thumb",
"Toe",
"Tongue",
"Trunk",
"Wrist"
]],
["Environment/Weather",[
"Breeze",
"Cloud",
"Dust Storm",
"Earthquake",
"Fog",
"Frost",
"Gale",
"Hail",
"Hurricane",
"Lightning",
"Mist",
"Monsoon",
"Rain",
"Rainbow",
"Sleet",
"Snow",
"Storm",
"Sun",
"Thunder",
"Tornado",
"Tsunami",
"Typhoon",
"Volcano",
"Wind"
]],
["Astronomy",[
"Black Hole",
"Comet",
"Earth",
"Eclipse",
"Europa",
"Galaxy",
"Io",
"Jupiter",
"Mars",
"Mercury",
"Meteor",
"Milky Way",
"Moon",
"Nebula",
"Neptune",
"Phobos",
"Pluto",
"Pulsar",
"Red Giant",
"Saturn",
"Star",
"Sun",
"Supernova",
"Universe",
"Uranus",
"Venus",
"White Dwarf"
]],
["Companies/Brands",[
"Airbus",
"Amazon",
"Apple",
"Barclays",
"BBC",
"BP",
"Budweiser",
"CNN",
"Coke",
"Exxon/Esso",
"Fedex",
"Fiat",
"Ford",
"Fox",
"General Motors",
"Glaxo SK",
"Google",
"Guinness",
"Hardy's",
"Heineken",
"Honda",
"HSBC",
"IBM",
"Jaguar",
"Kodak",
"Kraft",
"Lloyds",
"Macmillan",
"Mastercard",
"McDonald's",
"Mercedes-Benz",
"MGM",
"Microsoft",
"Nestl",
"Pepsi",
"Pfizer",
"Philips",
"Rolex",
"Rolls-Royce",
"Samsung",
"Shell",
"Sony",
"Starbucks",
"Total",
"Toyota",
"Unilever",
"Virgin",
"Volkswagen",
"Walmart",
"Wells Fargo",
"Wikipedia"
]],
["Clothing",[
"Anorak",
"Blouse",
"Bonnet",
"Boot",
"Bowler",
"Bra",
"Cap",
"Cardigan",
"Clogs",
"Coat",
"Culottes",
"Dress",
"Fedora",
"Frock",
"Glove",
"Hat",
"Hood",
"Jacket",
"Jumper",
"Kilt",
"Kimono",
"Knickers",
"Leggings",
"Mitten",
"Nightie",
"Panties",
"Pants",
"Pashmina",
"Poncho",
"Pullover",
"PJs/Jimjams",
"Raincoat",
"Sandal",
"Sari",
"Scarf",
"Shirt",
"Shoe",
"Shorts",
"Skirt",
"Socks",
"Sombrero",
"Stockings",
"Suit",
"Sweater",
"Swimsuit",
"Tie",
"Tights",
"Top",
"Trilby",
"Trousers",
"Trunks",
"T-shirt",
"Tuxedo",
"Vest"
]],
["Domestic",[
"Basin",
"Bathtub",
"Bed",
"Blanket",
"Blind",
"Boiler",
"Cabinet",
"Carpet",
"Chair",
"Clock",
"Couch",
"Curtain",
"Cushion",
"Dishwasher",
"Drawer",
"Dresser",
"Duvet",
"Fire",
"Fridge",
"Hairbrush",
"Hanger",
"Lamp",
"Lampshade",
"Mat",
"Ornament",
"Oven",
"Photo",
"Picture",
"Pillow",
"Quilt",
"Radiator",
"Radio",
"Range",
"Rug",
"Shampoo",
"Sheet",
"Shelf",
"Shower",
"Sideboard",
"Sink",
"Soap",
"Sofa",
"Speaker",
"Stool",
"Stove",
"Table",
"Tap",
"Throw",
"Toilet",
"Toothbrush",
"Toothpaste",
"Towel",
"TV",
"Vase",
"Wardrobe",
"Washing Machine"
]],
["Music Genres", [
"A Cappella",
"Ballet",
"Baroque",
"Big Band",
"Bluegrass",
"Blues",
"Classical",
"Country",
"Dance",
"Death Metal",
"Disco",
"Dub",
"Electronic",
"Flamenco",
"Folk",
"Funk",
"Garage",
"Gospel",
"Grime",
"Grunge",
"Heavy Metal",
"House",
"Indie",
"Jazz",
"Jungle",
"Latin",
"Motown",
"Opera",
"Pop",
"Punk",
"R&B",
"Ragtime",
"Rap",
"Reggae",
"Rock",
"Rock 'n' Roll",
"Romantic",
"Show/Theatre",
"Ska",
"Soul",
"Swing",
"Techno",
"Western"
]],
["Descriptions", [
"Amber",
"Azure",
"Big",
"Black",
"Blue",
"Broad",
"Bronze",
"Brown",
"Claret",
"Crimson",
"Dark",
"Deep",
"Flat",
"Gold",
"Gray/Grey",
"Green",
"High",
"Indigo",
"Large",
"Lemon",
"Level",
"Light",
"Lime",
"Long",
"Low",
"Maroon",
"Mauve",
"Navy",
"Orange",
"Oval",
"Purple",
"Red",
"Rough",
"Round",
"Scarlet",
"Shallow",
"Short",
"Silver",
"Small",
"Smooth",
"Square",
"Tall",
"Triangular",
"Turquoise",
"Violet",
"White",
"Wide",
"Yellow"
]],
["Numbers and Letters", [
"A",
"B",
"C",
"E",
"G",
"I",
"J",
"L",
"M",
"N",
"O",
"P",
"Q",
"R",
"T",
"U",
"X",
"Y",
"Z",
"Alpha",
"Beta",
"Gamma",
"Delta",
"Pi",
"Rho",
"Omega",
"Eight",
"Eighteen",
"Eleven",
"Fifty",
"Five",
"Forty",
"Four",
"Half",
"Hundred",
"Million",
"Nine",
"One",
"Quarter",
"Seven",
"Six",
"Sixteen",
"Ten",
"Thirteen",
"Thirty",
"Thousand",
"Three",
"Twelve",
"Twenty",
"Twenty-five",
"Two",
"Zero"
]],
["Homophones & Homonyms", [
"Air",
"Aisle",
"Ale",
"Alter",
"Bail",
"Bald",
"Band",
"Bank",
"Bear",
"Beat",
"Blue",
"Bow",
"Bread",
"Buy",
"Can",
"Ceiling",
"Cell",
"Check",
"Choose",
"Chord",
"Course",
"Creek",
"Cruise",
"Current",
"Daze",
"Dear",
"Desert",
"Die",
"Dough",
"Eight",
"Entrance",
"Ewe",
"Eye",
"Fare",
"Fine",
"Fir",
"Flea",
"Flower",
"Flu",
"Fore",
"Fourth",
"Freeze",
"Glower",
"Gorilla",
"Grave",
"Graze",
"Grease",
"Grown",
"Hair",
"Hall",
"Hear",
"Heel",
"High",
"Holy",
"Horse",
"Hour",
"Husky",
"Jam",
"Jar",
"Jet",
"Junk",
"Knot",
"Lap",
"Lark",
"Lead",
"Left",
"Lie",
"Light",
"Loan",
"Mail",
"Match",
"May",
"Meet",
"Might",
"Mince",
"Mine",
"Morning",
"Night",
"Nun",
"Ore",
"Pail",
"Pain",
"Peace",
"Peak",
"Pear",
"Phase",
"Pick",
"Plane",
"Pole",
"Pound",
"Pour",
"Rain",
"Reel",
"Road",
"Rose",
"Row",
"Sail",
"Saw",
"Scent",
"Sea",
"Seal",
"Season",
"Serial",
"Set",
"Site",
"Soul",
"Sow",
"Spruce",
"Stair",
"Steel",
"Stud",
"Tail",
"There",
"Toe",
"Trunk",
"Two",
"Waist",
"Wave",
"Way",
"Week",
"Weight",
"Whale",
"Wind",
"Wound",
"Write",
"Yard"
]]

]
// alert(inthedarkwords)
</script>

<script language="javascript">
var reducedinthedarkwords=[]
var totalwordsthisversion
var totaldifferentwords
for (var j=0; j<inthedarkwords.length; j++)
{
reducedinthedarkwords=reducedinthedarkwords.concat(inthedarkwords[j][1])
}
reducedinthedarkwords=uniquelist(reducedinthedarkwords)
totaldifferentwords=reducedinthedarkwords.length

// reduce inthedarkwords for trial
reducedinthedarkwords=[]
var inthedarkindex
var indexmax
var sublistlength
if (adsrequired==1)
{
for (var j=0; j<inthedarkwords.length; j++)
{

reducedinthedarkwords[j]=[inthedarkwords[j][0], []]
inthedarkindex=0
indexmax=Math.floor(inthedarkwords[j][1].length/wordsingrid)
if (indexmax>4) {indexmax=4}
for (var i=0; i<inthedarkwords[j][1].length; i++)
{
if (inthedarkindex==0) {reducedinthedarkwords[j][1]=reducedinthedarkwords[j][1].concat([inthedarkwords[j][1][i]])}
inthedarkindex++
if (inthedarkindex==indexmax) {inthedarkindex=0}
}
}
inthedarkwords=reducedinthedarkwords
}

reducedinthedarkwords=[]
for (var j=0; j<inthedarkwords.length; j++)
{
reducedinthedarkwords=reducedinthedarkwords.concat(inthedarkwords[j][1])
}
reducedinthedarkwords=uniquelist(reducedinthedarkwords)
totalwordsthisversion=reducedinthedarkwords.length
// alert([totaldifferentwords, totalwordsthisversion])

changetextvalue('wordsinversion', 'Total different words in this version: '+totalwordsthisversion)

var minsublist=inthedarkwords[0][1].length
for (var i=1; i<inthedarkwords.length; i++)
{
if (inthedarkwords[i][1].length<minsublist) {minsublist=inthedarkwords[i][1].length}
}

var displaytimeslist=[]
var displaytimes
var lengthratio
for (var i=0; i<inthedarkwords.length; i++)
{
lengthratio=inthedarkwords[i][1].length/minsublist
displaytimes=1
if (lengthratio>3) {displaytimes=2}
if (lengthratio>6) {displaytimes=3}
for (var j=0; j<displaytimes; j++)
{
displaytimeslist=displaytimeslist.concat([i])
}
}
displaytimeslist=displaytimeslist.concat([-1, -1])
// Following to catch duplicates in word lists.  Should never be triggered in a proper game.
for (var i=0; i<inthedarkwords.length; i++)
{
if (inthedarkwords[i][1].length != uniquelist(inthedarkwords[i][1]).length)
{
alert([inthedarkwords[i][0], inthedarkwords[i][1].length, uniquelist(inthedarkwords[i][1]).length])
}
}

</script>

</body></html>